<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Word Frequency Histogram with Gaussian Curve</title><style>body{ font-family: Arial, sans-serif; margin: 20px;} .highlight{ font-weight: bold; color: green;} .word-list{ margin-top: 20px;} .word-item{ margin: 5px 0;} .container{ display: flex; justify-content: space-between;} </style></head><body><h1>Word Frequency Histogram with Gaussian Curve</h1><label for="text">Enter your text:</label><br><textarea id="text" rows="6" cols="80" oninput="processText()"></textarea><div id="histogram"></div><div id="top-words" class="word-list"></div><script>const stopWords=new Set([ "The stop words usually go here I took them out", "", "", "", "", "", "", "", "", "" , "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "" ]); // Step 1: Tokenize and clean the input (handling punctuation better) function tokenize(text){ // Remove punctuation, convert to lowercase, and split by whitespace return text .toLowerCase() .replace(/[^\w\s]|_/g, "") // Remove punctuation .split(/\s+/) // Split by spaces .filter(word=>word.length >0 && !stopWords.has(word)); // Remove stop words} // Step 2: Create a histogram (word frequency count) function createHistogram(words){ const freq={}; words.forEach(word=>{ freq[word]=(freq[word] || 0) + 1;}); return freq;} // Step 3: Calculate mean and standard deviation function calculateMean(freqs){ const values=Object.values(freqs); const sum=values.reduce((a, b)=>a + b, 0); return sum / values.length;} function calculateStdDev(freqs, mean){ const values=Object.values(freqs); const squaredDiffs=values.map(val=>Math.pow(val - mean, 2)); const avgSquaredDiff=squaredDiffs.reduce((a, b)=>a + b, 0) / values.length; return Math.sqrt(avgSquaredDiff);} // Step 4: Generate a Gaussian function (bell curve) function gaussian(x, mean, stdDev){ return (1 / (stdDev * Math.sqrt(2 * Math.PI))) * Math.exp(-0.5 * Math.pow((x - mean) / stdDev, 2));} // Step 5: Process the text and display the histogram with Gaussian function processText(){ const text=document.getElementById("text").value; const words=tokenize(text); const histogram=createHistogram(words); const mean=calculateMean(histogram); const stdDev=calculateStdDev(histogram, mean); // Step 6: Plot the histogram and Gaussian curve displayHistogram(histogram, mean, stdDev);} // Step 7: Display the histogram and relevant Gaussian curve function displayHistogram(histogram, mean, stdDev){ const histogramDiv=document.getElementById("histogram"); histogramDiv.innerHTML=''; const wordList=Object.keys(histogram).sort((a, b)=>histogram[b] - histogram[a]); const canvas=document.createElement("canvas"); const ctx=canvas.getContext("2d"); canvas.width=800; canvas.height=300; histogramDiv.appendChild(canvas); // Draw histogram bars ctx.fillStyle="blue"; const barWidth=50; let x=0; wordList.forEach(word=>{ const height=histogram[word] * 10; ctx.fillRect(x, canvas.height - height, barWidth, height); x +=barWidth + 5;}); // Draw Gaussian curve ctx.beginPath(); ctx.strokeStyle="red"; ctx.lineWidth=2; let prevY=null; x=0; for (let i=0; i < canvas.width; i++){ const word=wordList[Math.floor(i / (barWidth + 12))]; if (word){ const freq=histogram[word]; const gaussianValue=gaussian(freq, mean, stdDev) * 50; const y=canvas.height - gaussianValue; if (prevY !==null){ ctx.lineTo(i, y);} prevY=y;}} ctx.stroke(); ctx.closePath(); // Step 8: Display the top words const topWords=wordList.slice(0, 10); displayTopWords(topWords, histogram);} // Step 9: Display the top words within the Gaussian threshold function displayTopWords(words, histogram){ const topWordsDiv=document.getElementById("top-words"); topWordsDiv.innerHTML=''; const mean=calculateMean(histogram); const stdDev=calculateStdDev(histogram, mean); const threshold=mean + 0.15 * stdDev; // 15% from the mean words.forEach(word=>{ const frequency=histogram[word]; if (frequency >=threshold){ const wordDiv=document.createElement("div"); wordDiv.className="word-item"; wordDiv.innerHTML=`<span class="highlight">${word}</span>: ${frequency}`; topWordsDiv.appendChild(wordDiv);}});} </script></body></html>