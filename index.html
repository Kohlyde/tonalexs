<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>tonalexs</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <!-- <link rel="stylesheet" href="css/tooltip.css">
  <link rel="stylesheet" href="css/main.css"> -->
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']] 
      },
      svg: {
        fontCache: 'global'
      }
    };
  </script>
<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="js/buttons.js"></script>
<script src="https://unpkg.com/wavesurfer.js"></script>
  <style>
     html, body { height: 100%; margin: 0; } /* Sets the height of the HTML and body to 100% and removes default margin. */
    .navbar { z-index: 1; background-color: #1E2337; color: ivory !important; box-shadow: 5px 5px 5px 5px rgba(0, 0, 0, 0.6); } /* Styles the navigation bar with a background color, text color, and shadow. */
    .main-content { display: flex; height: calc(100vh - 56px); } /* Makes the main content a flex container and adjusts its height. */
    .file-display, .analysis-display { flex: 1; padding: 10px; overflow-y: auto; max-height: calc(100vh - 26px); } /* Divides space equally, adds padding, scrolls vertically if needed, and sets a maximum height. */
    .drag-drop-container { flex: 1; padding: 0px; margin: 20px; margin-top: 20px; border: 2px dashed #1E2337; color: rgba(255, 255, 255, 0); border-radius: 10px; } /* Creates a drag-and-drop area with dashed border and styling. */
    .audio-player { width: 500px; display: flex; align-items: center; justify-content: flex-start; } /* Styles the audio player as a flex container with a fixed width. */
    .audio-control { width: 100%; height: 30px; border-radius: 5px; background-color: #1E2337; color: white; } /* Styles the audio control with a background and text color, and rounded corners. */
    .audio-control::-webkit-media-controls-panel { background-color: #1E2337; color: white; } /* Customizes the media control panel's colors. */
    .audio-control::-webkit-media-controls-play-button, .audio-control::-webkit-media-controls-timeline { filter: invert(100%); } /* Inverts colors for play button and timeline. */
    .album-art { width: 40px; height: 40px; border-radius: 5px; object-fit: cover; background-color: #ddd; } /* Styles the album art with fixed dimensions and rounded corners. */
    .fl-table { width: 100%; border-collapse: collapse; margin-top: 10px; } /* Creates a full-width table with collapsed borders. */
    .fl-table th, .fl-table td { text-align: left; padding: 5px; font-size: 12px; border: 1px solid #ddd;font-variant-caps: all-small-caps; } /* Adds padding, font size, and borders to table cells. */
    .fl-table th { background-color: #1E2337; font-variant-caps:all-small-caps; font-size: 12px; color: white; } /* Styles the table header with a background and text color. */
    .section-title { margin-top: 10px; color: #1E2337; } /* Adds spacing above and sets the text color for section titles. */
    .fileInput { display: none; } /* Hides the file input element. */
    .btn { background-color: #FFD700; color: black; border: 2px solid #000; } /* Styles buttons with background, text color, and border. */
    .btn:hover { background-color: #1E2337; color: white; border: 2px solid #000; } /* Changes button styling on hover. */
     h3 { font-variant-caps: small-caps; font-style: italic; color: #FFD700 ; text-decoration: dashed; float: center; } /* Styles h3 headings with small caps, italics, and dashed text decoration. */
    tr, td { font-weight: 700 !important; } /* Sets table rows and cells to bold text. */
    .high { background-color: lightblue; animation: colorChange 1s ease-in-out; } /* Highlights with blue background and adds animation. */
    .medium { background-color: #FFD700 ; animation: colorChange 1s ease-in-out; } /* Highlights with orange background and adds animation. */
    .low { background-color: lightcoral; animation: colorChange 1s ease-in-out; } /* Highlights with coral background and adds animation. */
     @keyframes colorChange { 0% { background-color: white; } 100% { background-color: inherit; } } /* Animates background color transition. */
    .fl-table td { transition: background-color 0.5s ease; } /* Smoothly transitions table cell background colors. */
    .fl-table td:hover { background-color: rgba(0, 0, 0, 0.1); } /* Changes table cell background on hover. */
     body { background-color: #ffffff; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; } /* Centers content on the page and sets background color. */
    .container { display: flex; font-size: 48px; position: relative; gap: 20px; } /* Creates a flexible container with spacing between elements. */
    .latex-piece { display: inline-block; opacity: 0; transform: translateY(-50px); animation: bigdrop 0.4s ease forwards; } /* Styles LaTeX elements with animation and initial hidden state. */
     @keyframes bigdrop { 0% { opacity: 0; transform: translateY(-50px); } 100% { opacity: 1; transform: translateY(0); } } /* Animates opacity and position for big drop effect. */
     body { background-color: #f8f8f800; display: inline; justify-content: center; align-items: center; height: 100vh; margin: 0; } /* Centers content with an inline display. */
    .container {padding: 5%; display: inline-flex; font-size: 23px; position: inherit; right: 50px; gap: 15px; } /* Creates an inline-flex container with smaller font size and alignment. */
    .latex-piece { display: inline-block; opacity: 0; } /* Hides LaTeX elements initially. */
    .th , .td{background-color:#1e2337;color:#fff;font-size:20px;text-align:center; align-items: stretch ;align-content: center; justify-items: stretch     ;}
    ::-webkit-scrollbar{width:6px;height:6px;} /* Custom width and height for scrollbars. */
    ::-webkit-scrollbar-thumb{background-color:#000000;border-radius:10px;} /* Thumb with custom color and rounded corners. */
    ::-webkit-scrollbar-thumb:hover{background-color:#000000;} /* Darker thumb on hover. */
    ::-webkit-scrollbar-track{background:#000000;border-radius:10px;} /* Track with light background and rounded corners. */
    *{-webkit-scrollbar-width:thin;-moz-scrollbar-width:thin;scrollbar-width:thin;scrollbar-color:#FFD700 #1E2337;} /* Thin scrollbar for Firefox with custom colors. */
    .scrollable-container{-ms-overflow-style:-ms-autohiding-scrollbar;} /* Auto-hiding scrollbar for IE/Edge. */
    .scrollable-container{max-height:400px;overflow-y:auto;} /* Makes the container scrollable with a maximum height. */
    .scrollable-container::-webkit-scrollbar{width:6px;} /* Custom width for WebKit scrollbars inside container. */
    .scrollable-container::-webkit-scrollbar-thumb{background-color:#FFD700;border-radius:10px;} /* Thumb with rounded corners in container. */
    .scrollable-container{-webkit-scrollbar-width:thin;-moz-scrollbar-width:thin;scrollbar-width:thin;scrollbar-color:#FFD700 #1E2337;} /* Thin scrollbar with colors for container in Firefox. */
     h3{font-variant-caps:unicase}
    .latex-hover-spectrogram-button-alt{position:relative;padding:5px 15px;font-size:12px;border-radius:4px;color:#FFD700;float:right;display:block;top:0;font-variant-caps:titling-caps;background-color:#1e2337;right:100px;margin-right:-100px;border:#1e2337 1px solid;cursor:pointer;outline:none;transition:background-color .53s ease;box-shadow:0 0 0 0;box-shadow:0 0 0 rgba(255,255,255,.589)}
    .latex-hover-spectrogram-button{position:relative;padding:5px 20px;font-size:12px;border-radius:.25em;color:#FFD700;float:right;display:block;top:-20px;font-variant-caps:titling-caps;background-color:#1e2337;right:100px;margin-right:-100px;border:#1e2337 1px solid;cursor:pointer;outline:none;transition:background-color .53s ease;box-shadow:0 0 0 rgba(255,255,255,.589)}
    .latex-hover-spectrogram-button::selection,.latex-hover-spectrogram-button-alt:active:act{background-color:#fff;color:#FFD700;border:#1e2337 1px solid;background-color:#1e2337;padding:5px 15px;opacity:1;border:#FFD700;font-size:12px;box-shadow:0 0 0 0;}@keyframes tooltipcanvas{0%{background-color:#FFD700;color:#1e2337;box-shadow:43 43 432 700 #ffffff;transition:background-color .83s ease}100%{background-color:#fff;color:#1e2337;border:#1e2337 2PX solid;box-shadow:330px 100px 300px 1200px rgba(218,214,214,.836);transition:background-color .53s ease}}
    .latex-hover-spectrogram-tooltip{position:absolute;top:36px;left:-250px;transform:translateX(-50%);visibility:hidden;opacity:1;background:#fff;color:#1e2337;padding:15px;box-shadow:0 4px 8px rgba(24,24,24,.801);max-width:400px;font-size:14px;z-index:2;transition:opacity .3s ease,visibility .3s ease,transform .3s ease;animation:tooltipcanvas 1.7s forwards linear;}
    .latex-hover-spectrogram-tooltip-alt{position:absolute;padding:5px 5px;top:0;left:-150px;transform:translateX(-50%);visibility:hidden;opacity:0;background:#fff;color:#1e2337;border:#1e2337 2px solid;box-shadow:0 4px 8px rgba(39,39,39,.481);min-width:400px;font-size:14px;z-index:2;margin:auto;transition:opacity .3s ease,visibility .2s ease,transform .2s ease;animation:tooltipcanvas 1.7s forwards linear;}
    .latex-hover-spectrogram-button:hover .latex-hover-spectrogram-tooltip{visibility:visible;opacity:1;z-index:20;transform:translate(-50%,10px);box-shadow:0 4px 8px rgba(39,39,39,.481);}
    .latex-hover-spectrogram-button-alt:hover .latex-hover-spectrogram-tooltip-alt{visibility:visible;opacity:1;padding:5px 5px;transform:translate(-50%,10px);box-shadow:0 4px 8px rgba(39,39,39,.481);}
    .latex-hover-spectrogram-content{text-align:center;}
    .latex-hover-spectrogram-content p{margin:10px 10px;}
    .latex-hover-spectrogram-content ul{padding-left:20px;}
    .latex-hover-spectrogram-content ul li{margin:0 0;}
    .latex-render{display:auto!important;float:right!important;position:relative!important;align-items:right!important;top:-0px;gap:0!important;right:54px!important;letter-spacing:0;font-size:16px!important;transition-duration:0s}
    .latex-hover-spectrogram-button-alt{position:relative;padding:5px 15px;font-size:12px;border-radius:4px;color:#FFD700;float:right;display:block;top:0;font-variant-caps:titling-caps;background-color:#1e2337;right:100px;margin-right:-100px;border:#1e2337 1px solid;cursor:pointer;outline:none;transition:background-color .53s ease;box-shadow:0 0 0 0;box-shadow:0 0 0 rgba(255,255,255,.589)}
    .latex-hover-spectrogram-button{position:relative;padding:5px 20px;font-size:12px;border-radius:.25em;color:#FFD700;float:right;display:block;top:-20px;font-variant-caps:titling-caps;background-color:#1e2337;right:100px;margin-right:-100px;border:#1e2337 1px solid;cursor:pointer;outline:none;transition:background-color .53s ease;box-shadow:0 0 0 rgba(255,255,255,.589)}
    .latex-hover-spectrogram-button::selection,.latex-hover-spectrogram-button-alt:active:act{background-color:#fff;color:#FFD700;border:#1e2337 1px solid;background-color:#1e2337;padding:5px 15px;opacity:1;border:#FFD700;font-size:12px;box-shadow:0 0 0 0;}@keyframes tooltipcanvas{0%{background-color:#FFD700;color:#1e2337;box-shadow:43 43 432 700 #ffffff;transition:background-color .83s ease}100%{background-color:#fff;color:#1e2337;border:#1e2337 2PX solid;box-shadow:330px 100px 300px 1200px rgba(218,214,214,.836);transition:background-color .53s ease}}
    .latex-hover-spectrogram-tooltip{position:absolute;top:36px;left:-250px;transform:translateX(-50%);visibility:hidden;opacity:1;background:#fff;color:#1e2337;padding:15px;box-shadow:0 4px 8px rgba(24,24,24,.801);max-width:400px;font-size:14px;z-index:2;transition:opacity .3s ease,visibility .3s ease,transform .3s ease;animation:tooltipcanvas 1.7s forwards linear;}
    .latex-hover-spectrogram-tooltip-alt{position:absolute;padding:5px 5px;top:0;left:-150px;transform:translateX(-50%);visibility:hidden;opacity:0;background:#fff;color:#1e2337;border:#1e2337 2px solid;box-shadow:0 4px 8px rgba(39,39,39,.481);min-width:400px;font-size:14px;z-index:2;margin:auto;transition:opacity .3s ease,visibility .2s ease,transform .2s ease;animation:tooltipcanvas 1.7s forwards linear;}
    .latex-hover-spectrogram-button:hover .latex-hover-spectrogram-tooltip{visibility:visible;opacity:1;z-index:20;transform:translate(-50%,10px);box-shadow:0 4px 8px rgba(39,39,39,.481);}
    .latex-hover-spectrogram-button-alt:hover .latex-hover-spectrogram-tooltip-alt{visibility:visible;opacity:1;padding:5px 5px;transform:translate(-50%,10px);box-shadow:0 4px 8px rgba(39,39,39,.481);}
    .latex-hover-spectrogram-content{text-align:center;}
    .latex-hover-spectrogram-content p{margin:10px 10px;}
    .latex-hover-spectrogram-content ul{padding-left:20px;}
    .latex-hover-spectrogram-content ul li{margin:0 0;}
    .latex-render{display:auto!important;float:right!important;position:relative!important;align-items:right!important;top:-0px;gap:0!important;right:54px!important;letter-spacing:0;font-size:16px!important;transition-duration:0s}
    .formula-column{font-family:"EB Garamond",serif;font-size:24px;text-align:center;color:#1e2337;padding:5px;letter-spacing:.02em;}
 </style>
  <!-- Place this tag in your head or just before your close body tag. --><script async defer src="js/buttons.js"></script>
</head>
<body>
<!-- Navbar Section      --> <nav class="navbar navbar-expand-lg"><div class="container-fluid"><a class="navbar-brand text-white" href="https://kohlyde.github.io/tonalexs/">tonalexs</a><div class="collapse navbar-collapse" id="navbarNav"><ul class="navbar-nav ms-auto"><li class="nav-item"><a class="gh-btn" href="#" rel="noopener noreferrer" target="_blank"><span class="gh-ico" aria-hidden="true"></span><span class="gh-text"></span></a><a class="gh-count" href="#" rel="noopener noreferrer" target="_blank" aria-hidden="true"></a></li><li class="nav-item"><button id="frameworkToggle" class="btn btn-link text-white" style="margin-right:10px;">&#9673;</button></li><li class="nav-item"><a class="github-button" href="https://github.com/kohlyde" data-size="large" style="margin-right:10px" aria-label="Follow @kohlyde on GitHub">Follow @kohlyde</a></li></ul></div></div></nav>
<!-- Modal Section       --> <div id="frameworkModal" class="modal hidden"><div class="modal-content"><div class="modal-sidebar"><ul class="icon-list"><li class="icon-item" title="Settings">&#9673;</li><li class="icon-item" title="Personalization">&#9673;</li><li class="icon-item" title="Data">&#9673;</li><li class="icon-item" title="Delete Account">&#9673;</li><li class="icon-item" title="Help">&#9673;</li><li class="icon-item" title="User Preferences">&#9673;</li><li class="icon-item" title="Notifications">&#9673;</li></ul></div><div class="modal-body"><h3>Choose Your Framework</h3><hr><div class="framework-options"><div class="column"><label><input type="radio" name="framework" value="Wavesurfer.js"> Wavesurfer.js</label><label><input type="radio" name="framework" value="Tone.js"> Tone.js</label><label><input type="radio" name="framework" value="Howler.js"> Howler.js</label><label><input type="radio" name="framework" value="P5.js"> P5.js</label><label><input type="radio" name="framework" value="PixiJS"> PixiJS</label></div><div class="column"><label><input type="radio" name="framework" value="GreenSock"> GreenSock</label><label><input type="radio" name="framework" value="Framer Motion"> Framer Motion</label><label><input type="radio" name="framework" value="TensorFlow.js"> TensorFlow.js</label><label><input type="radio" name="framework" value="Three.js"> Three.js</label><label><input type="radio" name="framework" value="Chart.js"> Chart.js</label></div><div class="column"><label><input type="radio" name="framework" value="D3.js"> D3.js</label><label><input type="radio" name="framework" value="Web Audio API"> Web Audio API</label><label><input type="radio" name="framework" value="SuperCollider"> SuperCollider</label><label><input type="radio" name="framework" value="AudioContext"> AudioContext</label><label><input type="radio" name="framework" value="OpenAL"> OpenAL</label></div></div><div class="modal-footer"><button id="resetButton" class="btn">Reset</button><button id="submitButton" class="btn">Submit</button></div></div></div></div>

  <div class="main-content">
    <div class="file-display">

      <div class="visualization-container">
        <h2>Spectral Analysis Visualization</h2>
        <button type="button" class="latex-hover-spectrogram-button">info
          <div class="latex-hover-spectrogram-tooltip">
            <div class="latex-hover-spectrogram-content">
              <p>The spectrum visualization is based on the <strong>Discrete Fourier Transform (DFT)</strong>, computed using the Fast Fourier Transform (FFT) algorithm:</p>
              <p>
                <script type="math/tex">
                X_k = \sum_{n=0}^{N-1} x_n \cdot e^{-i \frac{2\pi}{N} k n}
                </script>
              </p>
              <p>Where:</p>
              <ul>
                <li><script type="math/tex">x_n</script>: Signal in the time domain (e.g., audio samples)</li>
                <li><script type="math/tex">N</script>: Number of samples in the signal</li>
                <li><script type="math/tex">k</script>: Index of the frequency bin (0 to <script type="math/tex">N-1</script>)</li>
                <li><script type="math/tex">e^{-i \frac{2\pi}{N} k n}</script>: Complex sinusoid for each bin</li>
              </ul>
              <p>The magnitude of <script type="math/tex">X_k</script> determines the intensity of each frequency bin:</p>
              <p>
                <script type="math/tex">
                \text{Magnitude} = |X_k| = \sqrt{\text{Re}(X_k)^2 + \text{Im}(X_k)^2}
                </script>
              </p>
            </div>
          </div>
        </button>
        <div class="latex-render">
          <div class="container" id="typewriter"></div>
          X_k = \sum_{n=0}^{N-1} x_n \cdot e^{-i \frac{2\pi}{N} k n}

        </div>

       
        <h3>Spectrogram</h3>
        <canvas id="spectrogramCanvas" width="900" height="200"></canvas>
        <p class="text-muted">Spectrogram: Frequency over time with energy intensity.</p>
        <audio id="audioPlayer" controls class="audio-control">
          <img id="albumArt" src="https://via.placeholder.com/40" alt="Album Art" class="album-art me-2">
          <source id="audioSource" src="" type="audio/mpeg">
          Your browser does not support the audio element.
        </audio>
        <h3 class="section-title">Waveform</h3>
        <div id="waveform" class="waveform-container"></div>
        <script>
          document.addEventListener('DOMContentLoaded', function() {
            var wavesurfer = WaveSurfer.create({
              container: '#waveform',
              waveColor: 'violet',
              progressColor: 'purple'
            });
            wavesurfer.load('path/to/your/audio/file.mp3');
          });
        </script>
        <h3 class="section-title">Audio Properties (metadata)</h3>
        <!-- Metric table -->
        <table class="fl-table" id="combinedTable">
         <thead><tr class="td"><td colspan="6" >Properties (metadata)</td></tr><tr class="td"><td>Property/Metric</td><td>Value</td><td>Threshold</td><td>Score</td><td>Source</td><td>Formula - info</td></tr></thead><tbody>
            <!-- File Size            --> <tr><td>File Name</td><td id="fileInputFileName">-</td><td>-</td><td id="metaFileNameSource_primary">-</td><td>-</td><td class="formula-column">\( \text{Size:\ MB,\ GB} \)&nbsp;-</td></tr>
            <!-- File Size            --> <tr><td>File Size</td><td id="fileInputFileSize">-</td><td>-</td><td id="metaFileSizeSource_primary">-</td><td>-</td><td class="formula-column">\( \text{Size:\ MB,\ GB} \)&nbsp;-</td></tr>
            <!-- MIME Type            --> <tr><td>MIME Type</td><td id="fileInputMimeType">-</td><td>-</td><td id="metaMimeTypeSource_primary">-</td><td>-</td><td class="formula-column">\( \text{MIME:\ Type} \)&nbsp;-</td></tr>
            <!-- Extension            --> <tr><td>Extension</td><td id="fileInputExtension">-</td><td>-</td><td id="metaExtensionSource_primary">-</td><td>-</td><td class="formula-column">\( \text{.ext} \)&nbsp;-</td></tr>
            <!-- Encoding             --> <tr><td>Encoding</td><td id="fileInputEncoding">-</td><td>-</td><td id="metaEncodingSource_primary">-</td><td>-</td><td class="formula-column">\( \text{String:\ UTF-8,\ etc.} \)&nbsp;-</td></tr>
            <!-- Title                --> <tr><td>Title</td><td id="fileInputTitle">-</td><td>-</td><td id="metaTitleSource_primary">-</td><td>-</td><td class="formula-column">\( \text{String:\ Title} \)&nbsp;-</td></tr>
            <!-- Artist               --> <tr><td>Artist</td><td id="fileInputArtist">-</td><td>-</td><td id="metaArtistSource_primary">-</td><td>-</td><td class="formula-column">\( \text{String:\ Artist} \)&nbsp;-</td></tr>
            <!-- Album                --> <tr><td>Album</td><td id="fileInputAlbum">-</td><td>-</td><td id="metaAlbumSource_primary">-</td><td>-</td><td class="formula-column">\( \text{String:\ Album} \)&nbsp;-</td></tr>
            <!-- Genre                --> <tr><td>Genre</td><td id="fileInputGenre">-</td><td>-</td><td id="metaGenreSource_primary">-</td><td>-</td><td class="formula-column">\( \text{String:\ Genre} \)&nbsp;-</td></tr>
            <!-- Year                 --> <tr><td>Year</td><td id="fileInputYear">-</td><td>-</td><td id="metaYearSource_primary">-</td><td>-</td><td class="formula-column">\( \text{Year:\ YYYY} \)&nbsp;-</td></tr>
            <!-- Track Number         --> <tr><td>Track Number</td><td id="fileInputTrack">-</td><td>-</td><td id="metaTrackSource_primary">-</td><td>-</td><td class="formula-column">\( \text{Track\ \#:\ N} \)&nbsp;-</td></tr>
            <!-- Composer             --> <tr><td>Composer</td><td id="fileInputComposer">-</td><td>-</td><td id="metaComposerSource_primary">-</td><td>-</td><td class="formula-column">\( \text{String:\ Composer} \)&nbsp;-</td></tr>
            <!-- Lyrics               --> <tr><td>Lyrics</td><td id="fileInputLyrics">-</td><td>-</td><td id="metaLyricsSource_primary">-</td><td>-</td><td class="formula-column">\( \text{Lyrics:\ String} \)&nbsp;-</td></tr>
            <!-- Publisher            --> <tr><td>Publisher</td><td id="fileInputPublisher">-</td><td>-</td><td id="metaPublisherSource_primary">-</td><td>-</td><td class="formula-column">\( \text{String:\ Publisher} \)&nbsp;-</td></tr>
            <!-- Disc Number          --> <tr><td>Disc Number</td><td id="fileInputDiscNumber">-</td><td>-</td><td id="metaDiscNumberSource_primary">-</td><td>-</td><td class="formula-column">\( \text{Disc\ \#:\ N} \)&nbsp;-</td></tr>
            <!-- Encoder              --> <tr><td>Encoder</td><td id="fileInputEncoder">-</td><td>-</td><td id="metaEncoderSource_primary">-</td><td>-</td><td class="formula-column">\( \text{String:\ Encoder} \)&nbsp;-</td></tr>
            <!-- Language             --> <tr><td>Language</td><td id="fileInputLanguage">-</td><td>-</td><td id="metaLanguageSource_primary">-</td><td>-</td><td class="formula-column">\( \text{Language:\ ISO\ 639-1} \)&nbsp;-</td></tr>
            <!-- Copyright            --> <tr><td>Copyright</td><td id="fileInputCopyright">-</td><td>-</td><td id="metaCopyrightSource_primary">-</td><td>-</td><td class="formula-column">\( \text{Legal:\ \copyright} \)&nbsp;-</td></tr>
            <!-- ISRC                 --> <tr><td>ISRC</td><td id="fileInputIsrc">-</td><td>-</td><td id="metaIsrcSource_primary">-</td><td>-</td><td class="formula-column">\( \text{ISRC:\ Alphanumeric\ ID} \)&nbsp;-</td></tr>
            <!-- BPM                  --> <tr><td>BPM</td><td id="fileInputBpm">-</td><td>-</td><td id="metaBpmSource_primary">-</td><td>-</td><td class="formula-column">\( \text{BPM:\ Integer} \)&nbsp;-</td></tr>
            <!-- Album Artist         --> <tr><td>Album Artist</td><td id="fileInputAlbumArtist">-</td><td>-</td><td id="metaAlbumArtistSource_primary">-</td><td>-</td><td class="formula-column">\( \text{String:\ Album\ Artist} \)&nbsp;-</td></tr>
            <!-- Key                  --> <tr><td>Key</td><td id="fileInputKey">-</td><td>-</td><td id="metaKeySource_primary">-</td><td>-</td><td class="formula-column">\( \text{Key:\ A,\ B,\ etc.} \)&nbsp;-</td></tr>
            <!-- Initial Key          --> <tr><td>Initial Key</td><td id="fileInputInitialKey">-</td><td>-</td><td id="metaInitialKeySource_primary">-</td><td>-</td><td class="formula-column">\( \text{Key:\ A,\ B,\ etc.} \)&nbsp;-</td></tr>
            <!-- Length               --> <tr><td>Length</td><td id="fileInputLength">-</td><td>-</td><td id="metaLengthSource_primary">-</td><td>-</td><td class="formula-column">\( \text{Length:\ HH:MM:SS} \)&nbsp;-</td></tr>
            <!-- Comments             --> <tr><td>Comments</td><td id="fileInputComments">-</td><td>-</td><td id="metaCommentsSource_primary">-</td><td>-</td><td class="formula-column">\( \text{Comments:\ String} \)&nbsp;</td></tr>
          </tbody>
            <thead><tr class="td"><td colspan="6" >Spectral Features</td></tr><tr class="td"><td>Property/Metric</td><td>Value</td><td>Threshold</td><td>Score</td><td>Source</td><td>Formula - info</td></tr></thead>
            <!-- <tr class="td"><td colspan="6">Spectral Features</td></tr><tr><td>Metric Name</td><td>Value</td><td>Threshold</td><td>Score</td><td>Source</td><td>Formula - info</td></tr> -->
            <tbody>
              <!-- Spectral Centroid  --> <tr><td>Spectral Centroid</td><td id="fileInputSpectralCentroid">-</td><td>High: &gt; 4000 Hz</td><td>-</td><td>-</td><td>\( C = \frac{\sum_{k} f_k A_k}{\sum_{k} A_k} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>The Spectral Centroid is a measure of the "center of mass" of the spectrum, representing the perceived brightness of a sound. It is defined as:</p><p>\[ C = \frac{\sum_{k} f_k A_k}{\sum_{k} A_k} \]</p><p>Where:</p><ul><li>\(f_k\): Frequency of the k-th bin (in Hz)</li><li>\(A_k\): Amplitude of the k-th frequency bin</li></ul><p>The spectral centroid is often used in music and audio processing to describe the timbral texture of sounds, with higher values corresponding to brighter sounds.</p></div></div></button></td></tr>
              <!-- Spectral Flatness  --> <tr><td>Spectral Flatness</td><td id="fileInputSpectralFlatness">-</td><td>High: 0.8–1.0</td><td>-</td><td>-</td><td>\( SF = \frac{(\sum_{k} A_k)^2}{\sum_{k} A_k^2} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>The Spectral Flatness metric indicates how "noisy" or "tonal" a signal is. Higher values suggest a flatter spectrum (more noise-like), while lower values suggest a more tonal quality.</p><p>\[ SF = \frac{(\sum_{k} A_k)^2}{\sum_{k} A_k^2} \]</p><p>Where:</p><ul><li>\(A_k\): Amplitude of the k-th frequency bin</li></ul><p>Spectral flatness is used in audio signal processing for classification and timbre analysis.</p></div></div></button></td></tr>
              <!-- Spectral Bandwidth --> <tr><td>Spectral Bandwidth</td><td id="fileInputSpectralBandwidth">-</td><td>Medium: 500–1500 Hz</td><td>-</td><td>-</td><td>\( BW = \sqrt{\frac{\sum_{k} (f_k - C)^2 A_k}{\sum_{k} A_k}} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Spectral Bandwidth measures the width of the spectrum around the spectral centroid, representing the spread of frequencies in the signal. It is defined as:</p><p>\[ BW = \sqrt{\frac{\sum_{k} (f_k - C)^2 A_k}{\sum_{k} A_k}} \]</p><p>Where:</p><ul><li>\(f_k\): Frequency of the k-th bin (in Hz)</li><li>\(C\): Spectral centroid</li><li>\(A_k\): Amplitude of the k-th frequency bin</li></ul><p>This metric is useful for analyzing the "sharpness" or "dullness" of a sound.</p></div></div></button></td></tr>
              <!-- Spectral Roll-off  --> <tr><td>Spectral Roll-off</td><td id="fileInputSpectralRollOff">-</td><td>High: &gt; 4500 Hz</td><td>-</td><td>-</td><td>\( SR = \frac{\sum_{k} A_k \cdot \mathbb{1}(f_k \geq f_{\text{roll}})}{\sum_{k} A_k} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Spectral Roll-off is the frequency below which a specified percentage (e.g., 85%) of the total spectral energy lies. It is often used to identify the cutoff frequency of a signal.</p><p>\[ SR = \frac{\sum_{k} A_k \cdot \mathbb{1}(f_k \geq f_{\text{roll}})}{\sum_{k} A_k} \]</p><p>Where:</p><ul><li>\(A_k\): Amplitude of the k-th frequency bin</li><li>\(f_{\text{roll}}\): Roll-off frequency threshold</li></ul></div></div></button></td></tr>
              <!-- Spectral Contrast  --> <tr><td>Spectral Contrast</td><td id="fileInputSpectralContrast">-</td><td>High: &gt; 30 dB</td><td>-</td><td>-</td><td>\( SC = \sum_{i} \left| E_{i} - E_{i+1} \right| \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Spectral Contrast measures the difference in energy between peaks and valleys in the spectrum. It highlights the texture and richness of a signal.</p><p>\[ SC = \sum_{i} \left| E_{i} - E_{i+1} \right| \]</p><p>Where:</p><ul><li>\(E_i\): Energy of the i-th spectral band</li></ul></div></div></button></td></tr>
              <!-- Spectral Energy    --> <tr><td>Spectral Energy</td><td id="fileInputSpectralEnergy">-</td><td>High: &gt; 500</td><td>-</td><td>-</td><td>\( E = \sum_{k} A_k^2 \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Spectral Energy quantifies the total energy of the spectrum. It is defined as:</p><p>\[ E = \sum_{k} A_k^2 \]</p><p>Where:</p><ul><li>\(A_k\): Amplitude of the k-th frequency bin</li></ul><p>This metric is commonly used in audio analysis to describe the power or loudness of a signal.</p></div></div></button></td></tr>
              <!-- Spectral Flux      --> <tr><td>Spectral Flux</td><td id="fileInputSpectralFlux">-</td><td>High: &gt; 0.5</td><td>-</td><td>-</td><td>\( SF = \sum_{k} (A_k^{(n)} - A_k^{(n-1)})^2 \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Spectral Flux measures the rate of change in the spectrum over time, capturing variations in amplitude between consecutive frames. It is defined as:</p><p>\[ SF = \sum_{k} (A_k^{(n)} - A_k^{(n-1)})^2 \]</p><p>Where:</p><ul><li>\(A_k^{(n)}\): Amplitude of the k-th frequency bin in the current frame</li><li>\(A_k^{(n-1)}\): Amplitude of the k-th frequency bin in the previous frame</li></ul><p>This metric is often used to detect onset and rhythm changes in audio signals.</p></div></div></button></td></tr>
              <!-- Spectral Entropy   --> <tr><td>Spectral Entropy</td><td id="fileInputSpectralEntropy">-</td><td>Low: &lt; 0.5</td><td>-</td><td>-</td><td>\( H = - \sum_{k} P_k \log P_k \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Spectral Entropy measures the disorder or randomness in the spectrum, often used as a feature for classification tasks. It is defined as:</p><p>\[ H = - \sum_{k} P_k \log P_k \]</p><p>Where:</p><ul><li>\(P_k\): Normalized power of the k-th frequency bin</li></ul><p>Lower entropy suggests a more tonal signal, while higher entropy indicates a noise-like signal.</p></div></div></button></td></tr>
            </tbody>
              <thead><tr class="td"><td colspan="6" >Temporal Features</td></tr><tr class="td"><td>Property/Metric</td><td>Value</td><td>Threshold</td><td>Score</td><td>Source</td><td>Formula - info</td></tr></thead>
            <tbody>
              <!-- RMS                 --> <tr><td>RMS</td><td id="fileInputRMS">-</td><td>Medium: 0.3–0.5</td><td>-</td><td>-</td><td>\( RMS = \sqrt{\frac{1}{N} \sum_{n=1}^N x_n^2} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>The RMS represents the Root Mean Square energy of the signal, commonly used for loudness estimation in audio processing. It is defined as:</p><p>\[ RMS = \sqrt{\frac{1}{N} \sum_{n=1}^N x_n^2} \]</p><p>Where:</p><ul><li>\(x_n\): Sample amplitude</li><li>\(N\): Number of samples</li></ul></div></div></button></td></tr>
              <!-- Peak Amplitude      --> <tr><td>Peak Amplitude</td><td id="fileInputPeakAmplitude">-</td><td>High: &gt; 1.0</td><td>-</td><td>-</td><td>\( A_{peak} = \max(|x_n|) \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Peak Amplitude measures the maximum absolute value of the signal's amplitude. It is defined as:</p><p>\[ A_{peak} = \max(|x_n|) \]</p><p>Where:</p><ul><li>\(x_n\): Sample amplitude</li></ul></div></div></button></td></tr>
              <!-- Zero Crossing Rate  --> <tr><td>Zero Crossing Rate</td><td id="fileInputZeroCrossingRate">-</td><td>Low: &lt; 10%</td><td>-</td><td>-</td><td>\( ZCR = \sum_{n=1}^{N-1} \mathbb{1}(x_n x_{n+1} < 0) \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Zero Crossing Rate counts the number of sign changes in the waveform, indicative of the signal's noisiness or tonality. It is defined as:</p><p>\[ ZCR = \sum_{n=1}^{N-1} \mathbb{1}(x_n x_{n+1} < 0) \]</p><p>Where:</p><ul><li>\(x_n, x_{n+1}\): Consecutive samples</li></ul></div></div></button></td></tr>
              <!-- Low Energy Ratio    --> <tr><td>Low Energy Ratio</td><td id="fileInputLowEnergyRatio">-</td><td>Medium: 10–30%</td><td>-</td><td>-</td><td>\( LER = \frac{\sum_{i \in \text{Low}} E_i}{\sum_{i} E_i} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Low Energy Ratio measures the proportion of low-energy frames in the signal, useful for speech and music segmentation. It is defined as:</p><p>\[ LER = \frac{\sum_{i \in \text{Low}} E_i}{\sum_{i} E_i} \]</p><p>Where:</p><ul><li>\(E_i\): Energy of the i-th frame</li></ul></div></div></button></td></tr>
              <!-- Attack Time         --> <tr><td>Attack Time</td><td id="fileInputAttackTime">-</td><td>Short: &lt; 50 ms</td><td>-</td><td>-</td><td>\( T_{attack} = \frac{t_{90} - t_{10}}{2} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Attack Time measures how quickly a sound reaches its peak amplitude, useful for characterizing percussive sounds. It is defined as:</p><p>\[ T_{attack} = \frac{t_{90} - t_{10}}{2} \]</p><p>Where:</p><ul><li>\(t_{90}, t_{10}\): Times at 90% and 10% of peak amplitude</li></ul></div></div></button></td></tr>
              <!-- Decay Time          --> <tr><td>Decay Time</td><td id="fileInputDecayTime">-</td><td>Medium: 50–200 ms</td><td>-</td><td>-</td><td>\( T_{decay} = t_{90} - t_{10} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Decay Time measures how quickly the sound amplitude decreases after the initial attack, often used in reverb analysis. It is defined as:</p><p>\[ T_{decay} = t_{90} - t_{10} \]</p><p>Where:</p><ul><li>\(t_{90}, t_{10}\): Times at 90% and 10% of amplitude decay</li></ul></div></div></button></td></tr>
              <!-- Sustain Level       --> <tr><td>Sustain Level</td><td id="fileInputSustainLevel">-</td><td>High: &gt; 70%</td><td>-</td><td>-</td><td>\( S_{level} = \frac{\sum_{t \in \text{sustain}} A_t}{\sum_{t \in \text{full}} A_t} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Sustain Level measures the average amplitude during the sustain phase of a sound. It is defined as:</p><p>\[ S_{level} = \frac{\sum_{t \in \text{sustain}} A_t}{\sum_{t \in \text{full}} A_t} \]</p><p>Where:</p><ul><li>\(A_t\): Amplitude at time \(t\)</li></ul></div></div></button></td></tr>
              <!-- Release Time        --> <tr><td>Release Time</td><td id="fileInputReleaseTime">-</td><td>Long: &gt; 200 ms</td><td>-</td><td>-</td><td>\( T_{release} = t_0 - t_f \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Release Time measures how quickly a sound's amplitude falls to silence after the sustain phase. It is defined as:</p><p>\[ T_{release} = t_0 - t_f \]</p><p>Where:</p><ul><li>\(t_0, t_f\): Start and end times of release phase</li></ul></div></div></button></td></tr>
              <!-- Temporal Centroid   --> <tr><td>Temporal Centroid</td><td id="fileInputTemporalCentroid">-</td><td>Medium: ~50%</td><td>-</td><td>-</td><td>\( TC = \frac{\sum_{t} t \cdot A_t}{\sum_{t} A_t} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Temporal Centroid represents the "center of gravity" of a sound in time, often related to the perceptual timing of its energy. It is defined as:</p><p>\[ TC = \frac{\sum_{t} t \cdot A_t}{\sum_{t} A_t} \]</p><p>Where:</p><ul><li>\(t\): Time</li><li>\(A_t\): Amplitude at time \(t\)</li></ul></div></div></button></td></tr>
            </tbody>
            <thead><tr class="td"><td colspan="6" >Metric</td></tr><tr class="td"><td>Property/Metric</td><td>Value</td><td>Threshold</td><td>Score</td><td>Source</td><td>Formula - info</td></tr></thead>
             <tbody>
               <!-- Frequency Peaks    --> <tr><td>Frequency Peaks</td><td id="fileInputFrequencyPeaks">-</td><td>Medium: 1–3 peaks</td><td>-</td><td>-</td><td>Peaks \( = \text{argmax}(X(f)) \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Frequency Peaks are the dominant frequencies in the spectrum, calculated as the peak values of the spectral magnitude:</p><p>\[ \text{Peaks} = \text{argmax}(X(f)) \]</p><p>Where:</p><ul><li>\(X(f)\): Spectral magnitude at frequency \(f\)</li></ul></div></div></button></td></tr>
              <!-- Octave Bands        --> <tr><td>Octave Bands</td><td id="fileInputOctaveBands">-</td><td>Medium: 70–85 dB</td><td>-</td><td>-</td><td>\( \text{OctB} = 10 \log_{10} \left(\sum_{f \in \text{band}} |X(f)|^2 \right) \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Octave Bands calculate energy within specific frequency bands, often used in audio equalization:</p><p>\[ \text{Octave Band Energy} = 10 \log_{10} \left(\sum_{f \in \text{band}} |X(f)|^2 \right) \]</p><p>Where:</p><ul><li>\(X(f)\): Magnitude at frequency \(f\)</li></ul></div></div></button></td></tr>
              <!-- Harmonic Ratio      --> <tr><td>Harmonic Ratio</td><td id="fileInputHarmonicRatio">-</td><td>High: &gt; 90%</td><td>-</td><td>-</td><td>\( \text{HR} = \frac{\text{Energy}_{\text{Harmonic}}}{\text{Total Energy}} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>The Harmonic Ratio measures the ratio of harmonic energy to total energy in the spectrum:</p><p>\[ \text{HR} = \frac{\text{Energy}_{\text{Harmonic}}}{\text{Total Energy}} \]</p><p>Where:</p><ul><li>\(\text{Energy}_{\text{Harmonic}}\): Energy in harmonic frequencies</li><li>\(\text{Total Energy}\): Total spectral energy</li></ul></div></div></button></td></tr>
              <!-- Dominant Frequency  --> <tr><td>Dominant Frequency</td><td id="fileInputDominantFrequency">-</td><td>High: &gt; 1000 Hz</td><td>-</td><td>-</td><td>\( f_{\text{Dominant}} = \text{argmax}(|X(f)|) \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>The Dominant Frequency identifies the most prominent frequency in the spectrum:</p><p>\[ f_{\text{Dominant}} = \text{argmax}(|X(f)|) \]</p><p>Where:</p><ul><li>\(|X(f)|\): Spectral magnitude at frequency \(f\)</li></ul></div></div></button></td></tr>
              <!-- Fundamental Freq    --> <tr><td>Fundamental Frequency</td><td id="fileInputFundamentalFrequency">-</td><td>High: &gt; 300 Hz</td><td>-</td><td>-</td><td>\( f_0 = \frac{1}{T} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>The Fundamental Frequency represents the lowest frequency of a periodic waveform, corresponding to the perceived pitch:<p>\[ f_0 = \frac{1}{T} \]</p><p>Where:</p><ul><li>\(T\): Period of the waveform</li></ul></div></div></button></td></tr>
              <!-- Harmonic Distortion --> <tr><td>Harmonic Distortion</td><td id="fileInputHarmonicDistortion">-</td><td>Low: &lt; 10%</td><td>-</td><td>-</td><td>\( \text{THD} = \frac{\sum_{n=2}^N |H_n|^2}{|H_1|^2} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Total Harmonic Distortion (THD) quantifies the presence of harmonics relative to the fundamental frequency:</p><p>\[ \text{THD} = \frac{\sum_{n=2}^N |H_n|^2}{|H_1|^2} \]</p><p>Where:</p><ul><li>\(H_n\): Amplitude of the n-th harmonic</li><li>\(H_1\): Amplitude of the fundamental frequency</li></ul></div></div></button></td></tr>
              <!-- Spectral Slope      --> <tr><td>Spectral Slope</td><td id="fileInputSpectralSlope">-</td><td>Medium: -6 dB/octave</td><td>-</td><td>-</td><td>\( S = \frac{\Delta A}{\Delta f} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Spectral Slope measures the rate of change in amplitude with respect to frequency, indicating brightness or dullness:</p><p>\[ S = \frac{\Delta A}{\Delta f} \]</p><p>Where:</p><ul><li>\(\Delta A\): Change in amplitude</li><li>\(\Delta f\): Change in frequency</li></ul></div></div></button></td></tr>
              <!-- Inharmonicity       --> <tr><td>Inharmonicity</td><td id="fileInputInharmonicity">-</td><td>Low: &lt; 0.1</td><td>-</td><td>-</td><td>\( I = \frac{\sum_{n=1}^N (f_n - nf_0)^2}{\sum_{n=1}^N f_n^2} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Inharmonicity quantifies the deviation of partials from a harmonic series:</p><p>\[ I = \frac{\sum_{n=1}^N (f_n - nf_0)^2}{\sum_{n=1}^N f_n^2} \]</p><p>Where:</p><ul><li>\(f_n\): Frequency of the n-th partial</li><li>\(f_0\): Fundamental frequency</li></ul></div></div></button></td></tr>
              <!-- Energy per Octave   --> <tr><td>Energy per Octave</td><td id="fileInputEnergyPerOctave">-</td><td>High: &gt; 50%</td><td>-</td><td>-</td><td>\( E_{\text{Octave}} = \frac{\text{Energy in Octave}}{\text{Total Energy}} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Energy per Octave calculates the energy distribution across octave bands, useful in analyzing sound system response:</p><p>\[ E_{\text{Octave}} = \frac{\text{Energy in Octave}}{\text{Total Energy}} \]</p><p>Where:</p><ul><li>\(E_{\text{Octave}}\): Energy in a specific octave band</li><li>\(\text{Total Energy}\): Total spectral energy</li></ul></div></div></button></td></tr>
              <!-- Spectral Centroid   --> <tr><td>Spectral Centroid</td><td id="fileInputSpectralCentroidUnique">-</td><td>High: &gt; 4000 Hz</td><td>-</td><td>-</td><td>\( C = \frac{\sum f |X(f)|}{\sum |X(f)|} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Spectral Centroid represents the "center of mass" of the spectrum, often linked to the brightness of the sound:</p><p>\[ C = \frac{\sum f |X(f)|}{\sum |X(f)|} \]</p><p>Where:</p><ul><li>\(f\): Frequency</li><li>\(|X(f)|\): Magnitude of the spectrum at frequency \(f\)</li></ul></div></div></button></td></tr>
              <!-- Spectral Flatness   --> <tr><td>Spectral Flatness</td><td id="fileInputSpectralFlatnessUnique">-</td><td>High: 0.8–1.0</td><td>-</td><td>-</td><td>\( \text{Flatness} = \frac{\text{Geometric Mean}(|X(f)|)}{\text{Arithmetic Mean}(|X(f)|)} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Spectral Flatness measures how noise-like a spectrum is, distinguishing between tonal and noise-like sounds:</p><p>\[ \text{Flatness} = \frac{\text{Geometric Mean}(|X(f)|)}{\text{Arithmetic Mean}(|X(f)|)} \]</p><p>Where:</p><ul><li>\(|X(f)|\): Spectral magnitude at frequency \(f\)</li></ul></div></div></button></td></tr>
              <!-- Spectral Kurtosis   --> <tr><td>Spectral Kurtosis</td><td id="fileInputSpectralKurtosis">-</td><td>Low: &lt; 3</td><td>-</td><td>-</td><td>\( K = \frac{\mu_4}{\sigma^4} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Spectral Kurtosis measures the sharpness or peakiness of the spectrum:</p><p>\[ K = \frac{\mu_4}{\sigma^4} \]</p><p>Where:</p><ul><li>\(\mu_4\): Fourth central moment</li><li>\(\sigma\): Standard deviation of the spectrum</li></ul></div></div></button></td></tr>
              <!-- Spectral Skewness   --> <tr><td>Spectral Skewness</td><td id="fileInputSpectralSkewness">-</td><td>Low: &lt; 0.5</td><td>-</td><td>-</td><td>\( \text{Skewness} = \frac{\mu_3}{\sigma^3} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Spectral Skewness quantifies the asymmetry of the spectral distribution, identifying whether energy is concentrated at higher or lower frequencies:</p><p>\[ \text{Skewness} = \frac{\mu_3}{\sigma^3} \]</p><p>Where:</p><ul><li>\(\mu_3\): Third central moment</li><li>\(\sigma\): Standard deviation of the spectrum</li></ul></div></div></button></td></tr>
              <!-- Noise-to-Harmonic   --> <tr><td>Noise-to-Harmonic Ratio</td><td id="fileInputNoiseToHarmonicRatio">-</td><td>Low: &lt; 0.2</td><td>-</td><td>-</td><td>\( \text{NHR} = \frac{\text{Energy}_{\text{Noise}}}{\text{Energy}_{\text{Harmonic}}} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Noise-to-Harmonic Ratio (NHR) measures the balance between noise and harmonic energy in a signal:</p><p>\[ \text{NHR} = \frac{\text{Energy}_{\text{Noise}}}{\text{Energy}_{\text{Harmonic}}} \]</p><p>Where:</p><ul><li>\(\text{Energy}_{\text{Noise}}\): Energy in noise-like components</li><li>\(\text{Energy}_{\text{Harmonic}}\): Energy in harmonic components</li></ul></div></div></button></td></tr>
            </tbody>
            <tr><th colspan="6">Energy Metrics</th></tr><tr><th>Property/Metric</th><th>Value</th><th>Threshold</th><th>Formula</th><th>Source</th><th>Formula - Info</th></tr>
           <tbody>
              <!-- Total Energy        --> <tr><td>Total Energy</td><td id="fileInputTotalEnergy">-</td><td>Medium: 100–200 J</td><td>-</td><td>-</td><td>\( E_{\text{total}} = \int P(t) \, dt \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Total Energy represents the cumulative energy of the signal over time:</p><p>\[ E_{\text{total}} = \int P(t) \, dt \]</p><p>Where:</p><ul><li>\(P(t)\): Power of the signal at time \(t\)</li></ul></div></div></button></td></tr>
              <!-- Mean Energy         --> <tr><td>Mean Energy</td><td id="fileInputMeanEnergy">-</td><td>Medium: 2–4 J</td><td>-</td><td>-</td><td>\( E_{\text{mean}} = \frac{1}{T} \int_{0}^{T} P(t) \, dt \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Mean Energy calculates the average energy over a given time interval:</p><p>\[ E_{\text{mean}} = \frac{1}{T} \int_{0}^{T} P(t) \, dt \]</p><p>Where:</p><ul><li>\(T\): Duration of the time interval</li><li>\(P(t)\): Power of the signal at time \(t\)</li></ul></div></div></button></td></tr>
              <!-- Energy Dist   (Bass) --> <tr><td>Energy Distribution (Bass)</td><td id="fileInputBassEnergy">-</td><td>Medium: 20–40%</td><td>-</td><td>-</td><td>\( \frac{E_{\text{bass}}}{E_{\text{total}}} \times 100 \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Bass Energy Distribution represents the proportion of total energy contained in the bass frequency range:</p><p>\[ \frac{E_{\text{bass}}}{E_{\text{total}}} \times 100 \]</p><p>Where:</p><ul><li>\(E_{\text{bass}}\): Energy in the bass frequency range</li><li>\(E_{\text{total}}\): Total energy of the signal</li></ul></div></div></button></td></tr>
              <!-- Energy Dist( Treble) --> <tr><td>Energy Distribution (Treble)</td><td id="fileInputTrebleEnergy">-</td><td>Medium: 30–50%</td><td>-</td><td>-</td><td>\( \frac{E_{\text{treble}}}{E_{\text{total}}} \times 100 \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Treble Energy Distribution represents the proportion of total energy contained in the treble frequency range:</p><p>\[ \frac{E_{\text{treble}}}{E_{\text{total}}} \times 100 \]</p><p>Where:</p><ul><li>\(E_{\text{treble}}\): Energy in the treble frequency range</li><li>\(E_{\text{total}}): Total energy of the signal</li></ul></div></div></button></td></tr>
              <!-- Dynamic Range       --> <tr><td>Dynamic Range</td><td id="fileInputDynamicRange">-</td><td>High: &gt; 20 dB</td><td>-</td><td>-</td><td>\( \text{DR} = 20 \log_{10} \frac{P_{\text{max}}}{P_{\text{min}}} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Dynamic Range measures the ratio between the loudest and quietest parts of the signal:</p><p>\[ \text{DR} = 20 \log_{10} \frac{P_{\text{max}}}{P_{\text{min}}} \]</p><p>Where:</p><ul><li>\(P_{\text{max}}\): Maximum power of the signal</li><li>\(P_{\text{min}}\): Minimum power of the signal</li></ul></div></div></button></td></tr>
              <!-- Crest Factor        --> <tr><td>Crest Factor</td><td id="fileInputCrestFactor">-</td><td>High: &gt; 3</td><td>-</td><td>-</td><td>\( \text{CF} = \frac{P_{\text{peak}}}{P_{\text{rms}}} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Crest Factor measures the ratio of the peak signal power to the root mean square (RMS) power:</p><p>\[ \text{CF} = \frac{P_{\text{peak}}}{P_{\text{rms}}} \]</p><p>Where:</p><ul><li>\(P_{\text{peak}}\): Peak power of the signal</li><li>\(P_{\text{rms}}\): Root mean square power of the signal</li></ul></div></div></button></td></tr>
              <!-- Energy Env Variance --> <tr><td>Energy Envelope Variance</td><td id="fileInputEnergyEnvelopeVariance">-</td><td>Low: &lt; 0.1</td><td>-</td><td>-</td><td>\( \sigma^2 = \frac{1}{N} \sum_{i=1}^N (E_i - \mu)^2 \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Energy Envelope Variance quantifies the variability of energy over time:</p><p>\[ \sigma^2 = \frac{1}{N} \sum_{i=1}^N (E_i - \mu)^2 \]</p><p>Where:</p><ul><li>\(E_i\): Energy at time \(i\)</li><li>\(\mu\): Mean energy</li></ul></div></div></button></td></tr>
              <!-- Normalized Energy   --> <tr><td>Normalized Energy</td><td id="fileInputNormalizedEnergy">-</td><td>High: &gt; 0.8</td><td>-</td><td>-</td><td>\( E_{\text{norm}} = \frac{E_{\text{current}}}{E_{\text{max}}} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Normalized Energy is the ratio of the current energy level to the maximum possible energy:</p><p>\[ E_{\text{norm}} = \frac{E_{\text{current}}}{E_{\text{max}}} \]</p><p>Where:</p><ul><li>\(E_{\text{current}}\): Current energy level</li><li>\(E_{\text{max}}\): Maximum possible energy</li></ul></div></div></button></td></tr>
              <!-- Transient Energy    --> <tr><td>Transient Energy</td><td id="fileInputTransientEnergy">-</td><td>Medium: 10–30%</td><td>-</td><td>-</td><td>\( \frac{E_{\text{transient}}}{E_{\text{total}}} \times 100 \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Transient Energy represents the percentage of total energy attributed to transient components:</p><p>\[ \frac{E_{\text{transient}}}{E_{\text{total}}} \times 100 \]</p><p>Where:</p><ul><li>\(E_{\text{transient}}\): Energy of transient components</li><li>\(E_{\text{total}}\): Total energy of the signal</li></ul></div></div></button></td></tr>
              <!-- Sustain Energy      --> <tr><td>Sustain Energy</td><td id="fileInputSustainEnergy">-</td><td>Medium: 30–60%</td><td>-</td><td>-</td><td>\( \frac{E_{\text{sustain}}}{E_{\text{total}}} \times 100 \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Sustain Energy represents the percentage of total energy contained during the sustain phase of a signal:</p><p>\[ \frac{E_{\text{sustain}}}{E_{\text{total}}} \times 100 \]</p><p>Where:</p><ul><li>\(E_{\text{sustain}}\): Energy during the sustain phase</li><li>\(E_{\text{total}}\): Total energy of the signal</li></ul></div></div></button></td></tr>
              <!-- Peak2Average Ratio  --> <tr><td>Peak-to-Average Ratio</td><td id="fileInputPeakToAverageRatio">-</td><td>High: &gt; 3 dB</td><td>-</td><td>-</td><td>\( \text{PAR} = \frac{P_{\text{peak}}}{P_{\text{average}}} \)&nbsp;<button class="latex-hover-spectrogram-button-alt">info <div class="latex-hover-spectrogram-tooltip-alt"><div class="latex-hover-spectrogram-content"><p>Peak-to-Average Ratio (PAR) is the ratio of the peak power to the average power of the signal:</p><p>\[ \text{PAR} = \frac{P_{\text{peak}}}{P_{\text{average}}} \]</p><p>Where:</p><ul><li>\(P_{\text{peak}}\): Peak power of the signal</li><li>\(P_{\text{average}}\): Average power of the signal</li></ul></div></div></button></td></tr>
            </tbody>
            <tr><th colspan="6" style="background-color: #6e6e6e ;">Custom Metrics</th></tr><tr><th>Property/Metric</th><th>Value</th><th>Threshold</th><th>Formula</th><th>Source</th><th>Formula - Info</th></tr>
           <tbody>
              <!-- Copyright             --> <tr><td>Copyright</td><td id="fileInputCopyrightUnique">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Legal\ Protection\ \copyright} \)&nbsp;-</td></tr>
              <!-- Publisher             --> <tr><td>Publisher</td><td id="fileInputPublisherUnique">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Publishing\ Entity} \)&nbsp;-</td></tr>
              <!-- Language              --> <tr><td>Language</td><td id="fileInputLanguageUnique">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Language:\ ISO\ Code} \)&nbsp;-</td></tr>
              <!-- ISRC                 --> <tr><td>ISRC</td><td id="fileInputISRC">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{ISRC:\ A12345AB6789} \)&nbsp;-</td></tr>
              <!-- UPC                  --> <tr><td>UPC</td><td id="fileInputUPC">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{UPC:\ 012345678901} \)&nbsp;-</td></tr>
              <!-- Geolocation           --> <tr><td>Geolocation</td><td id="fileInputGeolocation">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Coordinates:\ (lat, long)} \)&nbsp;-</td></tr>
              <!-- Region of Recording    --> <tr><td>Region of Recording</td><td id="fileInputRegionOfRecording">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Region:\ Country\ Name} \)&nbsp;-</td></tr>
              <!-- Creation Date         --> <tr><td>Creation Date</td><td id="fileInputCreationDate">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Date:\ YYYY-MM-DD} \)&nbsp;-</td></tr>
              <!-- Modification Date      --> <tr><td>Modification Date</td><td id="fileInputModificationDate">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Date:\ YYYY-MM-DD} \)&nbsp;-</td></tr>
              <!-- License Type          --> <tr><td>License Type</td><td id="fileInputLicenseType">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{License:\ CC-BY-SA} \)&nbsp;-</td></tr>
              <!-- Creative Commons Info --> <tr><td>Creative Commons Information</td><td id="fileInputCreativeCommons">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{CC\ Info:\ CC0} \)&nbsp;-</td></tr>
              <!-- Album Art URL        --> <tr><td>Album Art URL</td><td id="fileInputAlbumArtURL">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Image:\ URL} \)&nbsp;-</td></tr>
              <!-- Original Source URL   --> <tr><td>Original Source URL</td><td id="fileInputOriginalSourceURL">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{URL:\ https://example.com} \)&nbsp;-</td></tr>
              <!-- Genre Subcategory    --> <tr><td>Genre Subcategory</td><td id="fileInputGenreSubcategory">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Subcategory:\ Pop-Rock} \)&nbsp;-</td></tr>
              <!-- Explicit Content      --> <tr><td>Explicit Content</td><td id="fileInputExplicitContent">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Explicit:\ Yes/No} \)&nbsp;-</td></tr>
              <!-- Keywords             --> <tr><td>Keywords</td><td id="fileInputKeywords">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Keywords:\ Tag1,Tag2,...} \)&nbsp;-</td></tr>
              <!-- Geotag (Lat, Long)   --> <tr><td>Geotag (Latitude, Longitude)</td><td id="fileInputGeotag">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Geo:\ (lat,long)} \)&nbsp;-</td></tr>
              <!-- Recording Environment --> <tr><td>Recording Environment</td><td id="fileInputRecordingEnvironment">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Environment:\ Indoor/Outdoor} \)&nbsp;-</td></tr>
              <!-- Audio Watermark      --> <tr><td>Audio Watermark</td><td id="fileInputAudioWatermark">-</td><td>-</td><td>-</td><td>-</td><td>\( \text{Watermark:\ Present/Absent} \)&nbsp;-</td></tr>
            </tbody>
        </table>
      </div>
    </div>
    <div class="drag-drop-container" id="dragDropContainer">
      <h2 style="margin-top:250px;color:#000" class="text-center">Drag &amp; Drop Your Files Here</h2>
      <p class="text-center">Or click the button below to select files.</p>
      <input type="file" id="fileInput" multiple style="display: none;" accept="audio/*">
      <div class="d-flex justify-content-center">
        <button class="btn btn-success btn-lg px-4" onclick="document.getElementById('fileInput').click()">
          <i class="bi bi-upload"></i> Upload Files
        </button>
      </div>
      <p class="mt-3 text-center text-muted">Accepted formats: MP3, WAV, FLAC, AAC, OGG, M4A, WMA, AIFF, ALAC, etc.</p>
    </div>
  </div>


<!--   
  <script src="./js/metricas.js"></script>
  <script src="./js/metrics.js"></script>
  <script src="./js/spectogram.js"></script> -->
  <!-- <script src="./js/Analytics.js"></script> -->
  <!-- <script src="./js/medadata.js"></script> -->
<script>
/* Open modal         */function openModal(){document.getElementById('frameworkModal').style.display='block';}
/* Close modal        */function closeModal(){document.getElementById('frameworkModal').style.display='none';}
/* Reset modal        */function resetModal(){const radios=document.querySelectorAll('[name="framework"]');radios.forEach(radio=>radio.checked=false);}
/* Submit modal       */function submitModal(){if(confirm('Are you sure?')){closeModal();}}
/* Outside click close*/function outsideClickClose(e){if(e.target===document.getElementById('frameworkModal')){closeModal();}}
/* Initialize modal   */function initModal(){document.getElementById('frameworkSelectorBtn').addEventListener('click',openModal);document.getElementById('resetButton').addEventListener('click',resetModal);document.getElementById('submitButton').addEventListener('click',submitModal);window.addEventListener('click',outsideClickClose);}
/* Start listeners    */initModal();
</script>
<script>
/* DOM Content Loaded */ document.addEventListener('DOMContentLoaded',()=>{
/* File Name          */ function processFileName(){const i=document.getElementById('fileInputFileName');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaFileName_primary').textContent=f[0].name;console.log(`File Name: ${f[0].name}`);});}
/* File Size          */ function processFileSize(){const i=document.getElementById('fileInputFileSize');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaFileSize_primary').textContent=`${(f[0].size/(1024*1024)).toFixed(2)} MB`;console.log(`File Size: ${(f[0].size/(1024*1024)).toFixed(2)} MB`);});}
/* Last Modified      */ function processLastModified(){const i=document.getElementById('fileInputLastModified');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaLastModified_primary').textContent=new Date(f[0].lastModified).toLocaleDateString();console.log(`Last Modified: ${new Date(f[0].lastModified).toLocaleDateString()}`);});}
/* MIME Type        */ function processMimeType(){const i=document.getElementById('fileInputMimeType');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaMimeType_primary').textContent=f[0].type||"Unknown";console.log(`MIME Type: ${f[0].type||"Unknown"}`);});}
/* Extension         */ function processExtension(){const i=document.getElementById('fileInputExtension');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaExtension_primary').textContent=f[0].name.split('.').pop();console.log(`Extension: ${f[0].name.split('.').pop()}`);});}
/* Encoding          */ function processEncoding(){const i=document.getElementById('fileInputEncoding');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaEncoding_primary').textContent="UTF-8";console.log("Encoding: UTF-8");});}
/* Title             */ function processTitle(){const i=document.getElementById('fileInputTitle');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaTitle_primary').textContent="Processed Title";console.log("Title Processed: Processed Title");});}
/* Artist            */ function processArtist(){const i=document.getElementById('fileInputArtist');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaArtist_primary').textContent="Processed Artist";console.log("Artist Processed: Processed Artist");});}
/* Album            */ function processAlbum(){const i=document.getElementById('fileInputAlbum');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaAlbum_primary').textContent="Processed Album";console.log("Album Processed: Processed Album");});}
/* Genre            */ function processGenre(){const i=document.getElementById('fileInputGenre');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaGenre_primary').textContent="Processed Genre";console.log("Genre Processed: Processed Genre");});}
/* Year             */ function processYear(){const i=document.getElementById('fileInputYear');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaYear_primary').textContent="2024";console.log("Year Processed: 2024");});}
/* Track Number     */ function processTrackNumber(){const i=document.getElementById('fileInputTrackNumber');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaTrack_primary').textContent="Track 1";console.log("Track Number Processed: Track 1");});}
/* Composer         */ function processComposer(){const i=document.getElementById('fileInputComposer');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaComposer_primary').textContent="Processed Composer";console.log("Composer Processed: Processed Composer");});}
/* Lyrics            */ function processLyrics(){const i=document.getElementById('fileInputLyrics');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaLyrics_primary').textContent="Processed Lyrics";console.log("Lyrics Processed: Processed Lyrics");});}
/* Publisher         */ function processPublisher(){const i=document.getElementById('fileInputPublisher');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaPublisher_primary').textContent="Processed Publisher";console.log("Publisher Processed: Processed Publisher");});}
/* Disc Number       */ function processDiscNumber(){const i=document.getElementById('fileInputDiscNumber');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaDiscNumber_primary').textContent="Disc 1";console.log("Disc Number Processed: Disc 1");});}
/* Encoder           */ function processEncoder(){const i=document.getElementById('fileInputEncoder');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaEncoder_primary').textContent="Processed Encoder";console.log("Encoder Processed: Processed Encoder");});}
/* Language          */ function processLanguage(){const i=document.getElementById('fileInputLanguage');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaLanguage_primary').textContent="English";console.log("Language Processed: English");});}
/* Copyright          */ function processCopyright(){const i=document.getElementById('fileInputCopyright');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const copyright=analyzeCopyright(f[0]);document.getElementById('metaCopyright_primary').textContent=`Copyright: ${copyright}`;console.log(`Copyright Processed: ${copyright}`);});}
/* ISRC              */ function processISRC(){const i=document.getElementById('fileInputISRC');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const isrc=analyzeISRC(f[0]);document.getElementById('metaISRC_primary').textContent=`ISRC: ${isrc}`;console.log(`ISRC Processed: ${isrc}`);});}
/* UPC               */ function processUPC(){const i=document.getElementById('fileInputUPC');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const upc=analyzeUPC(f[0]);document.getElementById('metaUPC_primary').textContent=`UPC: ${upc}`;console.log(`UPC Processed: ${upc}`);});}
/* Geolocation        */ function processGeolocation(){const i=document.getElementById('fileInputGeolocation');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const geo=analyzeGeolocation(f[0]);document.getElementById('metaGeolocation_primary').textContent=`Geo: ${geo}`;console.log(`Geolocation Processed: ${geo}`);});}
/* Region Recording    */ function processRegionRecording(){const i=document.getElementById('fileInputRegionRecording');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const region=analyzeRegionRecording(f[0]);document.getElementById('metaRegionRecording_primary').textContent=`Region: ${region}`;console.log(`Region Processed: ${region}`);});}
/* Creation Date     */ function processCreationDate(){const i=document.getElementById('fileInputCreationDate');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const date=analyzeCreationDate(f[0]);document.getElementById('metaCreationDate_primary').textContent=`Creation Date: ${date}`;console.log(`Creation Date Processed: ${date}`);});}
/* Modification Date */ function processModificationDate(){const i=document.getElementById('fileInputModificationDate');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const date=analyzeModificationDate(f[0]);document.getElementById('metaModificationDate_primary').textContent=`Modification Date: ${date}`;console.log(`Modification Date Processed: ${date}`);});}
/* License Type      */ function processLicenseType(){const i=document.getElementById('fileInputLicenseType');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const license=analyzeLicenseType(f[0]);document.getElementById('metaLicenseType_primary').textContent=`License: ${license}`;console.log(`License Type Processed: ${license}`);});}
/* Creative Commons  */ function processCreativeCommons(){const i=document.getElementById('fileInputCreativeCommons');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const cc=analyzeCreativeCommons(f[0]);document.getElementById('metaCreativeCommons_primary').textContent=`CC: ${cc}`;console.log(`Creative Commons Info Processed: ${cc}`);});}
/* Album Art URL     */ function processAlbumArtURL(){const i=document.getElementById('fileInputAlbumArtURL');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const url=analyzeAlbumArtURL(f[0]);document.getElementById('metaAlbumArtURL_primary').textContent=`URL: ${url}`;console.log(`Album Art URL Processed: ${url}`);});}
/* Language          */ function processLanguage(){const i=document.getElementById('fileInputLanguage');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const language=analyzeLanguage(f[0]);document.getElementById('metaLanguage_primary').textContent=`Language: ${language}`;console.log(`Language Processed: ${language}`);});}
/* Source URL        */ function processSourceURL(){const i=document.getElementById('fileInputSourceURL');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const url=analyzeSourceURL(f[0]);document.getElementById('metaSourceURL_primary').textContent=`Source: ${url}`;console.log(`Source URL Processed: ${url}`);});}
/* Genre Subcategory */ function processGenreSubcategory(){const i=document.getElementById('fileInputGenreSubcategory');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const genre=analyzeGenreSubcategory(f[0]);document.getElementById('metaGenreSubcategory_primary').textContent=`Genre: ${genre}`;console.log(`Genre Subcategory Processed: ${genre}`);});}
/* Explicit Content  */ function processExplicitContent(){const i=document.getElementById('fileInputExplicitContent');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const explicit=analyzeExplicitContent(f[0]);document.getElementById('metaExplicitContent_primary').textContent=`Explicit: ${explicit}`;console.log(`Explicit Content Processed: ${explicit}`);});}
/* Keywords          */ function processKeywords(){const i=document.getElementById('fileInputKeywords');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const keywords=analyzeKeywords(f[0]);document.getElementById('metaKeywords_primary').textContent=`Keywords: ${keywords}`;console.log(`Keywords Processed: ${keywords}`);});}
/* Geotag            */ function processGeotag(){const i=document.getElementById('fileInputGeotag');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const geotag=analyzeGeotag(f[0]);document.getElementById('metaGeotag_primary').textContent=`Geotag: ${geotag}`;console.log(`Geotag Processed: ${geotag}`);});}
/* Recording Env     */ function processRecordingEnvironment(){const i=document.getElementById('fileInputRecordingEnvironment');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const env=analyzeRecordingEnvironment(f[0]);document.getElementById('metaRecordingEnvironment_primary').textContent=`Environment: ${env}`;console.log(`Recording Environment Processed: ${env}`);});}
/* Audio Watermark   */ function processAudioWatermark(){const i=document.getElementById('fileInputAudioWatermark');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const watermark=analyzeAudioWatermark(f[0]);document.getElementById('metaAudioWatermark_primary').textContent=`Watermark: ${watermark}`;console.log(`Audio Watermark Processed: ${watermark}`);});}
/* Frequency Peaks   */ function processFrequencyPeaks(){const i=document.getElementById('fileInputFrequencyPeaks');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const peaks=analyzeFrequencyPeaks(f[0]);document.getElementById('metaFrequencyPeaks_primary').textContent=`Peaks: ${peaks}`;console.log(`Frequency Peaks Processed: ${peaks}`);});}
/* Octave Bands      */ function processOctaveBands(){const i=document.getElementById('fileInputOctaveBands');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const bands=analyzeOctaveBands(f[0]);document.getElementById('metaOctaveBands_primary').textContent=`Bands: ${bands} dB`;console.log(`Octave Bands Processed: ${bands} dB`);});}
/* Harmonic Ratio    */ function processHarmonicRatio(){const i=document.getElementById('fileInputHarmonicRatio');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const ratio=analyzeHarmonicRatio(f[0]);document.getElementById('metaHarmonicRatio_primary').textContent=`Ratio: ${ratio}%`;console.log(`Harmonic Ratio Processed: ${ratio}%`);});}
/* Dominant Frequency*/ function processDominantFrequency(){const i=document.getElementById('fileInputDominantFrequency');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const freq=analyzeDominantFrequency(f[0]);document.getElementById('metaDominantFrequency_primary').textContent=`Freq: ${freq} Hz`;console.log(`Dominant Frequency Processed: ${freq} Hz`);});}
/* Fundamental Freq  */ function processFundamentalFrequency(){const i=document.getElementById('fileInputFundamentalFrequency');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const freq=analyzeFundamentalFrequency(f[0]);document.getElementById('metaFundamentalFrequency_primary').textContent=`Freq: ${freq} Hz`;console.log(`Fundamental Frequency Processed: ${freq} Hz`);});}
/* Harmonic Distort. */ function processHarmonicDistortion(){const i=document.getElementById('fileInputHarmonicDistortion');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const distortion=analyzeHarmonicDistortion(f[0]);document.getElementById('metaHarmonicDistortion_primary').textContent=`Distortion: ${distortion}%`;console.log(`Harmonic Distortion Processed: ${distortion}%`);});}
/* Spectral Slope    */ function processSpectralSlope(){const i=document.getElementById('fileInputSpectralSlope');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const slope=analyzeSpectralSlope(f[0]);document.getElementById('metaSpectralSlope_primary').textContent=`Slope: ${slope} dB/octave`;console.log(`Spectral Slope Processed: ${slope} dB/octave`);});}
/* Inharmonicity     */ function processInharmonicity(){const i=document.getElementById('fileInputInharmonicity');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const inharmonicity=analyzeInharmonicity(f[0]);document.getElementById('metaInharmonicity_primary').textContent=`Inharmonicity: ${inharmonicity}`;console.log(`Inharmonicity Processed: ${inharmonicity}`);});}
/* Spectral Centroid */ function processSpectralCentroid(){const i=document.getElementById('fileInputSpectralCentroidUnique');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const centroid=analyzeSpectralCentroid(f[0]);document.getElementById('metaSpectralCentroid_primary').textContent=`Centroid: ${centroid} Hz`;console.log(`Spectral Centroid Processed: ${centroid} Hz`);});}
/* Spectral Flatness */ function processSpectralFlatness(){const i=document.getElementById('fileInputSpectralFlatnessUnique');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const flatness=analyzeSpectralFlatness(f[0]);document.getElementById('metaSpectralFlatness_primary').textContent=`Flatness: ${flatness}`;console.log(`Spectral Flatness Processed: ${flatness}`);});}
/* Spectral Kurtosis */ function processSpectralKurtosis(){const i=document.getElementById('fileInputSpectralKurtosis');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const kurtosis=analyzeSpectralKurtosis(f[0]);document.getElementById('metaSpectralKurtosis_primary').textContent=`Kurtosis: ${kurtosis}`;console.log(`Spectral Kurtosis Processed: ${kurtosis}`);});}
/* Spectral Skewness */ function processSpectralSkewness(){const i=document.getElementById('fileInputSpectralSkewness');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const skewness=analyzeSpectralSkewness(f[0]);document.getElementById('metaSpectralSkewness_primary').textContent=`Skewness: ${skewness}`;console.log(`Spectral Skewness Processed: ${skewness}`);});}
/* Noise-to-Harmonic */ function processNoiseToHarmonicRatio(){const i=document.getElementById('fileInputNoiseToHarmonic');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const ratio=analyzeNoiseToHarmonicRatio(f[0]);document.getElementById('metaNoiseToHarmonic_primary').textContent=`NHR: ${ratio}`;console.log(`Noise-to-Harmonic Ratio Processed: ${ratio}`);});}
/* Energy per Octave */ function processEnergyPerOctave(){const i=document.getElementById('fileInputEnergyPerOctave');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const energy=analyzeEnergyPerOctave(f[0]);document.getElementById('metaEnergyPerOctave_primary').textContent=`Energy: ${energy}%`;console.log(`Energy per Octave Processed: ${energy}%`);});}
/* Total Energy      */ function processTotalEnergy(){const i=document.getElementById('fileInputTotalEnergy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const energy=analyzeTotalEnergy(f[0]);document.getElementById('metaTotalEnergy_primary').textContent=`Total Energy: ${energy} J`;console.log(`Total Energy Processed: ${energy} J`);});}
/* Mean Energy       */ function processMeanEnergy(){const i=document.getElementById('fileInputMeanEnergy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const mean=analyzeMeanEnergy(f[0]);document.getElementById('metaMeanEnergy_primary').textContent=`Mean Energy: ${mean} J`;console.log(`Mean Energy Processed: ${mean} J`);});}
/* Energy (Bass)     */ function processEnergyDistributionBass(){const i=document.getElementById('fileInputEnergyBass');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const bass=analyzeEnergyDistributionBass(f[0]);document.getElementById('metaEnergyBass_primary').textContent=`Bass Energy: ${bass}%`;console.log(`Energy Distribution (Bass) Processed: ${bass}%`);});}
/* Energy (Treble)   */ function processEnergyDistributionTreble(){const i=document.getElementById('fileInputEnergyTreble');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const treble=analyzeEnergyDistributionTreble(f[0]);document.getElementById('metaEnergyTreble_primary').textContent=`Treble Energy: ${treble}%`;console.log(`Energy Distribution (Treble) Processed: ${treble}%`);});}
/* Dynamic Range     */ function processDynamicRange(){const i=document.getElementById('fileInputDynamicRange');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const range=analyzeDynamicRange(f[0]);document.getElementById('metaDynamicRange_primary').textContent=`Dynamic Range: ${range} dB`;console.log(`Dynamic Range Processed: ${range} dB`);});}
/* Crest Factor      */ function processCrestFactor(){const i=document.getElementById('fileInputCrestFactor');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const crest=analyzeCrestFactor(f[0]);document.getElementById('metaCrestFactor_primary').textContent=`Crest Factor: ${crest}`;console.log(`Crest Factor Processed: ${crest}`);});}
/* Envelope Variance */ function processEnergyEnvelopeVariance(){const i=document.getElementById('fileInputEnergyEnvelopeVariance');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const variance=analyzeEnergyEnvelopeVariance(f[0]);document.getElementById('metaEnergyEnvelopeVariance_primary').textContent=`Variance: ${variance}`;console.log(`Energy Envelope Variance Processed: ${variance}`);});}
/* Normalized Energy */ function processNormalizedEnergy(){const i=document.getElementById('fileInputNormalizedEnergy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const normalized=analyzeNormalizedEnergy(f[0]);document.getElementById('metaNormalizedEnergy_primary').textContent=`Normalized Energy: ${normalized}`;console.log(`Normalized Energy Processed: ${normalized}`);});}
/* Transient Energy  */ function processTransientEnergy(){const i=document.getElementById('fileInputTransientEnergy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const transient=analyzeTransientEnergy(f[0]);document.getElementById('metaTransientEnergy_primary').textContent=`Transient Energy: ${transient}%`;console.log(`Transient Energy Processed: ${transient}%`);});}
/* Sustain Energy    */ function processSustainEnergy(){const i=document.getElementById('fileInputSustainEnergy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const sustain=analyzeSustainEnergy(f[0]);document.getElementById('metaSustainEnergy_primary').textContent=`Sustain Energy: ${sustain}%`;console.log(`Sustain Energy Processed: ${sustain}%`);});}
/* Peak-to-Avg Ratio */ function processPeakToAverageRatio(){const i=document.getElementById('fileInputPAR');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const ratio=analyzePeakToAverageRatio(f[0]);document.getElementById('metaPAR_primary').textContent=`PAR: ${ratio} dB`;console.log(`Peak-to-Average Ratio Processed: ${ratio} dB`);});}
});


/* DOM Content Loaded */ 
document.addEventListener('DOMContentLoaded', () => {
    /* Populate Metadata */ 
    function populateMetadata(file, metaId, metaSourceId) {
      if (!file) {
        console.error(`No file provided for ${metaId}`);
        return;
      }
      const element = document.getElementById(metaId);
      const sourceElement = document.getElementById(metaSourceId);
      if (element && sourceElement) {
        element.textContent = file.name; // Set the file name or other property
        sourceElement.textContent = file.type; // Example: Set MIME type
        console.log(`Metadata populated for ${metaId}`);
      } else {
        console.error(`Element not found: ${metaId} or ${metaSourceId}`);
      }
    }
  
    /* Calls for Metadata Properties */
    function handleFileInput(inputId, metaId, metaSourceId) {
      const input = document.getElementById(inputId);
      if (input) {
        input.addEventListener('change', (event) => {
          const file = event.target.files[0];
          populateMetadata(file, metaId, metaSourceId);
        });
      } else {
        console.error(`Input element not found: ${inputId}`);
      }
    }
  
    /* List of all metadata mappings */
    const metadataMappings = [
      { inputId: 'fileInputFileSize', metaId: 'metaFileSize_primary', metaSourceId: 'metaFileSizeSource_primary' },
      { inputId: 'fileInputMimeType', metaId: 'metaMimeType_primary', metaSourceId: 'metaMimeTypeSource_primary' },
      { inputId: 'fileInputExtension', metaId: 'metaExtension_primary', metaSourceId: 'metaExtensionSource_primary' },
      { inputId: 'fileInputEncoding', metaId: 'metaEncoding_primary', metaSourceId: 'metaEncodingSource_primary' },
      { inputId: 'fileInputTitle', metaId: 'metaTitle_primary', metaSourceId: 'metaTitleSource_primary' },
      { inputId: 'fileInputArtist', metaId: 'metaArtist_primary', metaSourceId: 'metaArtistSource_primary' },
      { inputId: 'fileInputAlbum', metaId: 'metaAlbum_primary', metaSourceId: 'metaAlbumSource_primary' },
      { inputId: 'fileInputGenre', metaId: 'metaGenre_primary', metaSourceId: 'metaGenreSource_primary' },
      { inputId: 'fileInputYear', metaId: 'metaYear_primary', metaSourceId: 'metaYearSource_primary' },
      { inputId: 'fileInputTrack', metaId: 'metaTrack_primary', metaSourceId: 'metaTrackSource_primary' },
      { inputId: 'fileInputComposer', metaId: 'metaComposer_primary', metaSourceId: 'metaComposerSource_primary' },
      { inputId: 'fileInputLyrics', metaId: 'metaLyrics_primary', metaSourceId: 'metaLyricsSource_primary' },
      { inputId: 'fileInputPublisher', metaId: 'metaPublisher_primary', metaSourceId: 'metaPublisherSource_primary' },
      { inputId: 'fileInputDiscNumber', metaId: 'metaDiscNumber_primary', metaSourceId: 'metaDiscNumberSource_primary' },
      { inputId: 'fileInputEncoder', metaId: 'metaEncoder_primary', metaSourceId: 'metaEncoderSource_primary' },
      { inputId: 'fileInputLanguage', metaId: 'metaLanguage_primary', metaSourceId: 'metaLanguageSource_primary' },
      { inputId: 'fileInputCopyright', metaId: 'metaCopyright_primary', metaSourceId: 'metaCopyrightSource_primary' },
      { inputId: 'fileInputIsrc', metaId: 'metaIsrc_primary', metaSourceId: 'metaIsrcSource_primary' },
      { inputId: 'fileInputBpm', metaId: 'metaBpm_primary', metaSourceId: 'metaBpmSource_primary' },
      { inputId: 'fileInputAlbumArtist', metaId: 'metaAlbumArtist_primary', metaSourceId: 'metaAlbumArtistSource_primary' },
      { inputId: 'fileInputKey', metaId: 'metaKey_primary', metaSourceId: 'metaKeySource_primary' },
      { inputId: 'fileInputInitialKey', metaId: 'metaInitialKey_primary', metaSourceId: 'metaInitialKeySource_primary' },
      { inputId: 'fileInputLength', metaId: 'metaLength_primary', metaSourceId: 'metaLengthSource_primary' },
      { inputId: 'fileInputComments', metaId: 'metaComments_primary', metaSourceId: 'metaCommentsSource_primary' },
      { inputId: 'fileInputSpectralCentroidUnique', metaId: 'metaSpectralCentroid_primary', metaSourceId: 'metaSpectralCentroidSource_primary' },
      { inputId: 'fileInputSpectralFlatnessUnique', metaId: 'metaSpectralFlatness_primary', metaSourceId: 'metaSpectralFlatnessSource_primary' },
      { inputId: 'fileInputSpectralBandwidth', metaId: 'metaSpectralBandwidth_primary', metaSourceId: 'metaSpectralBandwidthSource_primary' },
      { inputId: 'fileInputSpectralRollOff', metaId: 'metaSpectralRollOff_primary', metaSourceId: 'metaSpectralRollOffSource_primary' },
      { inputId: 'fileInputSpectralContrast', metaId: 'metaSpectralContrast_primary', metaSourceId: 'metaSpectralContrastSource_primary' },
      { inputId: 'fileInputSpectralEnergy', metaId: 'metaSpectralEnergy_primary', metaSourceId: 'metaSpectralEnergySource_primary' },
      { inputId: 'fileInputSpectralFlux', metaId: 'metaSpectralFlux_primary', metaSourceId: 'metaSpectralFluxSource_primary' },
      { inputId: 'fileInputSpectralEntropy', metaId: 'metaSpectralEntropy_primary', metaSourceId: 'metaSpectralEntropySource_primary' },
      { inputId: 'fileInputRMS', metaId: 'metaRMS_primary', metaSourceId: 'metaRMSSource_primary' },
      { inputId: 'fileInputPeakAmplitude', metaId: 'metaPeakAmplitude_primary', metaSourceId: 'metaPeakAmplitudeSource_primary' },
      { inputId: 'fileInputZeroCrossingRate', metaId: 'metaZeroCrossingRate_primary', metaSourceId: 'metaZeroCrossingRateSource_primary' },
      { inputId: 'fileInputLowEnergyRatio', metaId: 'metaLowEnergyRatio_primary', metaSourceId: 'metaLowEnergyRatioSource_primary' },
      { inputId: 'fileInputAttackTime', metaId: 'metaAttackTime_primary', metaSourceId: 'metaAttackTimeSource_primary' },
      { inputId: 'fileInputDecayTime', metaId: 'metaDecayTime_primary', metaSourceId: 'metaDecayTimeSource_primary' },
      { inputId: 'fileInputSustainLevel', metaId: 'metaSustainLevel_primary', metaSourceId: 'metaSustainLevelSource_primary' },
      { inputId: 'fileInputReleaseTime', metaId: 'metaReleaseTime_primary', metaSourceId: 'metaReleaseTimeSource_primary' },
      { inputId: 'fileInputTemporalCentroid', metaId: 'metaTemporalCentroid_primary', metaSourceId: 'metaTemporalCentroidSource_primary' },
      { inputId: 'fileInputFrequencyPeaks', metaId: 'metaFrequencyPeaks_primary', metaSourceId: 'metaFrequencyPeaksSource_primary' },
      { inputId: 'fileInputOctaveBands', metaId: 'metaOctaveBands_primary', metaSourceId: 'metaOctaveBandsSource_primary' },
      { inputId: 'fileInputHarmonicRatio', metaId: 'metaHarmonicRatio_primary', metaSourceId: 'metaHarmonicRatioSource_primary' },
      { inputId: 'fileInputDominantFrequency', metaId: 'metaDominantFrequency_primary', metaSourceId: 'metaDominantFrequencySource_primary' },
      { inputId: 'fileInputFundamentalFrequency', metaId: 'metaFundamentalFrequency_primary', metaSourceId: 'metaFundamentalFrequencySource_primary' },
      { inputId: 'fileInputHarmonicDistortion', metaId: 'metaHarmonicDistortion_primary', metaSourceId: 'metaHarmonicDistortionSource_primary' },
      { inputId: 'fileInputSpectralSlope', metaId: 'metaSpectralSlope_primary', metaSourceId: 'metaSpectralSlopeSource_primary' },
      { inputId: 'fileInputInharmonicity', metaId: 'metaInharmonicity_primary', metaSourceId: 'metaInharmonicitySource_primary' },
      { inputId: 'fileInputEnergyPerOctave', metaId: 'metaEnergyPerOctave_primary', metaSourceId: 'metaEnergyPerOctaveSource_primary' },
      { inputId: 'fileInputDynamicRange', metaId: 'metaDynamicRange_primary', metaSourceId: 'metaDynamicRangeSource_primary' },
      { inputId: 'fileInputCrestFactor', metaId: 'metaCrestFactor_primary', metaSourceId: 'metaCrestFactorSource_primary' },
      { inputId: 'fileInputEnergyEnvelopeVariance', metaId: 'metaEnergyEnvelopeVariance_primary', metaSourceId: 'metaEnergyEnvelopeVarianceSource_primary' },
      { inputId: 'fileInputNormalizedEnergy', metaId: 'metaNormalizedEnergy_primary', metaSourceId: 'metaNormalizedEnergySource_primary' },
      { inputId: 'fileInputTransientEnergy', metaId: 'metaTransientEnergy_primary', metaSourceId: 'metaTransientEnergySource_primary' },
      { inputId: 'fileInputSustainEnergy', metaId: 'metaSustainEnergy_primary', metaSourceId: 'metaSustainEnergySource_primary' },
      { inputId: 'fileInputPeakToAverageRatio', metaId: 'metaPeakToAverageRatio_primary', metaSourceId: 'metaPeakToAverageRatioSource_primary' }
      
    ];
  
    /* Initialize all metadata handlers */
    metadataMappings.forEach(({ inputId, metaId, metaSourceId }) => {
      handleFileInput(inputId, metaId, metaSourceId);
    });
  });

/* File Name */ function processFileName(){const i=document.getElementById('fileInputName');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaFileName_primary').textContent=f[0].name;console.log(`File Name: ${f[0].name}`);});}
/* File Size */ function processFileSize(){const i=document.getElementById('fileInputSize');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaFileSize_primary').textContent=`${(f[0].size/(1024*1024)).toFixed(2)} MB`;console.log(`File Size: ${(f[0].size/(1024*1024)).toFixed(2)} MB`);});}
/* Last Modified */ function processLastModified(){const i=document.getElementById('fileInputModified');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaLastModified_primary').textContent=new Date(f[0].lastModified).toLocaleDateString();console.log(`Last Modified: ${new Date(f[0].lastModified).toLocaleDateString()}`);});}
/* MIME Type */ function processMimeType(){const i=document.getElementById('fileInputMime');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaMimeType_primary').textContent=f[0].type||"Unknown";console.log(`MIME Type: ${f[0].type||"Unknown"}`);});}
/* Extension */ function processExtension(){const i=document.getElementById('fileInputExtension');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaExtension_primary').textContent=f[0].name.split('.').pop();console.log(`Extension: ${f[0].name.split('.').pop()}`);});}
/* Encoding */ function processEncoding(){const i=document.getElementById('fileInputEncoding');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaEncoding_primary').textContent="UTF-8";console.log("Encoding: UTF-8");});}
/* Title */ function processTitle(){const i=document.getElementById('fileInputTitle');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaTitle_primary').textContent="Placeholder Logic";console.log("Title: Placeholder Logic");});}
/* Artist */ function processArtist(){const i=document.getElementById('fileInputArtist');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaArtist_primary').textContent="Placeholder Logic";console.log("Artist: Placeholder Logic");});}
/* Album */ function processAlbum(){const i=document.getElementById('fileInputAlbum');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaAlbum_primary').textContent="Placeholder Logic";console.log("Album: Placeholder Logic");});}
/* Genre */ function processGenre(){const i=document.getElementById('fileInputGenre');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaGenre_primary').textContent="Placeholder Logic";console.log("Genre: Placeholder Logic");});}
/* Year */ function processYear(){const i=document.getElementById('fileInputYear');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaYear_primary').textContent="Placeholder Logic";console.log("Year: Placeholder Logic");});}
/* Track Number */ function processTrackNumber(){const i=document.getElementById('fileInputTrack');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaTrack_primary').textContent="Placeholder Logic";console.log("Track Number: Placeholder Logic");});}
/* Composer */ function processComposer(){const i=document.getElementById('fileInputComposer');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaComposer_primary').textContent="Placeholder Logic";console.log("Composer: Placeholder Logic");});}
/* Lyrics */ function processLyrics(){const i=document.getElementById('fileInputLyrics');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaLyrics_primary').textContent="Placeholder Logic";console.log("Lyrics: Placeholder Logic");});}
/* Publisher */ function processPublisher(){const i=document.getElementById('fileInputPublisher');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaPublisher_primary').textContent="Placeholder Logic";console.log("Publisher: Placeholder Logic");});}
/* Disc Number */ function processDiscNumber(){const i=document.getElementById('fileInputDisc');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaDiscNumber_primary').textContent="Placeholder Logic";console.log("Disc Number: Placeholder Logic");});}
/* Encoder */ function processEncoder(){const i=document.getElementById('fileInputEncoder');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaEncoder_primary').textContent="Placeholder Logic";console.log("Encoder: Placeholder Logic");});}
/* Language */ function processLanguage(){const i=document.getElementById('fileInputLanguage');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaLanguage_primary').textContent="Placeholder Logic";console.log("Language: Placeholder Logic");});}
/* Copyright */ function processCopyright(){const i=document.getElementById('fileInputCopyright');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaCopyright_primary').textContent="© Placeholder Logic";console.log("Copyright: © Placeholder Logic");});}
/* ISRC */ function processIsrc(){const i=document.getElementById('fileInputIsrc');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaIsrc_primary').textContent="Placeholder Logic";console.log("ISRC: Placeholder Logic");});}
   /* BPM */ function processBpm(){const i=document.getElementById('fileInputBpm');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaBpm_primary').textContent="Placeholder Logic";console.log("BPM: Placeholder Logic");});}
/* Album Artist */ function processAlbumArtist(){const i=document.getElementById('fileInputAlbumArtist');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaAlbumArtist_primary').textContent="Placeholder Logic";console.log("Album Artist: Placeholder Logic");});}
/* Key */ function processKey(){const i=document.getElementById('fileInputKey');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaKey_primary').textContent="Placeholder Logic";console.log("Key: Placeholder Logic");});}
/* Initial Key */ function processInitialKey(){const i=document.getElementById('fileInputInitialKey');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaInitialKey_primary').textContent="Placeholder Logic";console.log("Initial Key: Placeholder Logic");});}
/* Length */ function processLength(){const i=document.getElementById('fileInputLength');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaLength_primary').textContent="Placeholder Logic";console.log("Length: Placeholder Logic");});}
/* Comments */ function processComments(){const i=document.getElementById('fileInputComments');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaComments_primary').textContent="Placeholder Logic";console.log("Comments: Placeholder Logic");});}
/* Spectral Centroid */ function processSpectralCentroid(){const i=document.getElementById('fileInputSpectralCentroid');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralCentroid_primary').textContent="Placeholder Logic";console.log("Spectral Centroid Processed: Placeholder Logic");});}
/* Spectral Flatness */ function processSpectralFlatness(){const i=document.getElementById('fileInputSpectralFlatness');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralFlatness_primary').textContent="Placeholder Logic";console.log("Spectral Flatness Processed: Placeholder Logic");});}
/* Spectral Bandwidth*/ function processSpectralBandwidth(){const i=document.getElementById('fileInputSpectralBandwidth');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralBandwidth_primary').textContent="Placeholder Logic";console.log("Spectral Bandwidth Processed: Placeholder Logic");});}
/* Spectral Roll-off */ function processSpectralRolloff(){const i=document.getElementById('fileInputSpectralRolloff');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralRolloff_primary').textContent="Placeholder Logic";console.log("Spectral Roll-off Processed: Placeholder Logic");});}
/* Spectral Contrast */ function processSpectralContrast(){const i=document.getElementById('fileInputSpectralContrast');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralContrast_primary').textContent="Placeholder Logic";console.log("Spectral Contrast Processed: Placeholder Logic");});}
/* Spectral Energy */ function processSpectralEnergy(){const i=document.getElementById('fileInputSpectralEnergy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralEnergy_primary').textContent="Placeholder Logic";console.log("Spectral Energy Processed: Placeholder Logic");});}
/* Spectral Flux */ function processSpectralFlux(){const i=document.getElementById('fileInputSpectralFlux');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralFlux_primary').textContent="Placeholder Logic";console.log("Spectral Flux Processed: Placeholder Logic");});}
/* Spectral Entropy */ function processSpectralEntropy(){const i=document.getElementById('fileInputSpectralEntropy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralEntropy_primary').textContent="Placeholder Logic";console.log("Spectral Entropy Processed: Placeholder Logic");});}
/* Spectral Centroid */ function processSpectralCentroid(){const i=document.getElementById('fileInputSpectralCentroid');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralCentroid_primary').textContent="Placeholder Logic";console.log("Spectral Centroid Processed: Placeholder Logic");});}
/* Spectral Flatness */ function processSpectralFlatness(){const i=document.getElementById('fileInputSpectralFlatness');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralFlatness_primary').textContent="Placeholder Logic";console.log("Spectral Flatness Processed: Placeholder Logic");});}
/* Spectral Bandwidth*/ function processSpectralBandwidth(){const i=document.getElementById('fileInputSpectralBandwidth');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralBandwidth_primary').textContent="Placeholder Logic";console.log("Spectral Bandwidth Processed: Placeholder Logic");});}
/* Spectral Roll-off */ function processSpectralRolloff(){const i=document.getElementById('fileInputSpectralRolloff');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralRolloff_primary').textContent="Placeholder Logic";console.log("Spectral Roll-off Processed: Placeholder Logic");});}
/* Spectral Contrast */ function processSpectralContrast(){const i=document.getElementById('fileInputSpectralContrast');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralContrast_primary').textContent="Placeholder Logic";console.log("Spectral Contrast Processed: Placeholder Logic");});}
/* Spectral Energy */ function processSpectralEnergy(){const i=document.getElementById('fileInputSpectralEnergy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralEnergy_primary').textContent="Placeholder Logic";console.log("Spectral Energy Processed: Placeholder Logic");});}
   /* Spectral Flux */ function processSpectralFlux(){const i=document.getElementById('fileInputSpectralFlux');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralFlux_primary').textContent="Placeholder Logic";console.log("Spectral Flux Processed: Placeholder Logic");});}
/* Spectral Entropy */ function processSpectralEntropy(){const i=document.getElementById('fileInputSpectralEntropy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}document.getElementById('metaSpectralEntropy_primary').textContent="Placeholder Logic";console.log("Spectral Entropy Processed: Placeholder Logic");});}
/* Frequency Peaks */ function processFrequencyPeaks(){const i=document.getElementById('fileInputFrequencyPeaks');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const peaks=analyzePeaks(f[0]);document.getElementById('metaFrequencyPeaks_primary').textContent=`Peaks: ${peaks}`;console.log(`Frequency Peaks: ${peaks}`);});}
/* Octave Bands */ function processOctaveBands(){const i=document.getElementById('fileInputOctaveBands');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const bands=analyzeOctaveBands(f[0]);document.getElementById('metaOctaveBands_primary').textContent=`Bands: ${bands} dB`;console.log(`Octave Bands: ${bands} dB`);});}
/* Harmonic Ratio */ function processHarmonicRatio(){const i=document.getElementById('fileInputHarmonicRatio');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const ratio=analyzeHarmonicRatio(f[0]);document.getElementById('metaHarmonicRatio_primary').textContent=`Ratio: ${ratio}%`;console.log(`Harmonic Ratio: ${ratio}%`);});}
/* Dominant Frequency*/ function processDominantFrequency(){const i=document.getElementById('fileInputDominantFrequency');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const freq=analyzeDominantFrequency(f[0]);document.getElementById('metaDominantFrequency_primary').textContent=`Freq: ${freq} Hz`;console.log(`Dominant Frequency: ${freq} Hz`);});}
/* Fundamental Freq */ function processFundamentalFrequency(){const i=document.getElementById('fileInputFundamentalFrequency');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const freq=analyzeFundamentalFrequency(f[0]);document.getElementById('metaFundamentalFrequency_primary').textContent=`Freq: ${freq} Hz`;console.log(`Fundamental Frequency: ${freq} Hz`);});}
/* Harmonic Distort. */ function processHarmonicDistortion(){const i=document.getElementById('fileInputHarmonicDistortion');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const distortion=analyzeHarmonicDistortion(f[0]);document.getElementById('metaHarmonicDistortion_primary').textContent=`Distortion: ${distortion}%`;console.log(`Harmonic Distortion: ${distortion}%`);});}
/* Spectral Slope */ function processSpectralSlope(){const i=document.getElementById('fileInputSpectralSlope');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const slope=analyzeSpectralSlope(f[0]);document.getElementById('metaSpectralSlope_primary').textContent=`Slope: ${slope} dB/octave`;console.log(`Spectral Slope: ${slope} dB/octave`);});}
/* Inharmonicity */ function processInharmonicity(){const i=document.getElementById('fileInputInharmonicity');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const inharmonicity=analyzeInharmonicity(f[0]);document.getElementById('metaInharmonicity_primary').textContent=`Inharmonicity: ${inharmonicity}`;console.log(`Inharmonicity: ${inharmonicity}`);});}
/* Spectral Centroid */ function processSpectralCentroid(){const i=document.getElementById('fileInputSpectralCentroid');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const centroid=analyzeSpectralCentroid(f[0]);document.getElementById('metaSpectralCentroid_primary').textContent=`Centroid: ${centroid} Hz`;console.log(`Spectral Centroid: ${centroid} Hz`);});}
/* Spectral Flatness */ function processSpectralFlatness(){const i=document.getElementById('fileInputSpectralFlatness');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const flatness=analyzeSpectralFlatness(f[0]);document.getElementById('metaSpectralFlatness_primary').textContent=`Flatness: ${flatness}`;console.log(`Spectral Flatness: ${flatness}`);});}
/* Spectral Kurtosis */ function processSpectralKurtosis(){const i=document.getElementById('fileInputSpectralKurtosis');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const kurtosis=analyzeSpectralKurtosis(f[0]);document.getElementById('metaSpectralKurtosis_primary').textContent=`Kurtosis: ${kurtosis}`;console.log(`Spectral Kurtosis: ${kurtosis}`);});}
/* Spectral Skewness */ function processSpectralSkewness(){const i=document.getElementById('fileInputSpectralSkewness');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const skewness=analyzeSpectralSkewness(f[0]);document.getElementById('metaSpectralSkewness_primary').textContent=`Skewness: ${skewness}`;console.log(`Spectral Skewness: ${skewness}`);});}
/* Noise-to-Harmonic */ function processNoiseToHarmonicRatio(){const i=document.getElementById('fileInputNoiseToHarmonic');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const ratio=analyzeNoiseToHarmonicRatio(f[0]);document.getElementById('metaNoiseToHarmonic_primary').textContent=`NHR: ${ratio}`;console.log(`Noise-to-Harmonic Ratio: ${ratio}`);});}
/* Energy per Octave */ function processEnergyPerOctave(){const i=document.getElementById('fileInputEnergyPerOctave');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const energy=analyzeEnergyPerOctave(f[0]);document.getElementById('metaEnergyPerOctave_primary').textContent=`Energy: ${energy}%`;console.log(`Energy per Octave: ${energy}%`);});}
/* Total Energy */ function processTotalEnergy(){const i=document.getElementById('fileInputTotalEnergy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const energy=analyzeTotalEnergy(f[0]);document.getElementById('metaTotalEnergy_primary').textContent=`Energy: ${energy} J`;console.log(`Total Energy: ${energy} J`);});}
/* Mean Energy */ function processMeanEnergy(){const i=document.getElementById('fileInputMeanEnergy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const energy=analyzeMeanEnergy(f[0]);document.getElementById('metaMeanEnergy_primary').textContent=`Mean Energy: ${energy} J`;console.log(`Mean Energy: ${energy} J`);});}
/* Energy Dist (Bass)*/ function processEnergyDistributionBass(){const i=document.getElementById('fileInputEnergyBass');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const bass=analyzeEnergyDistributionBass(f[0]);document.getElementById('metaEnergyBass_primary').textContent=`Bass: ${bass}%`;console.log(`Energy Distribution (Bass): ${bass}%`);});}
/* Energy Dist (Treble)*/ function processEnergyDistributionTreble(){const i=document.getElementById('fileInputEnergyTreble');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const treble=analyzeEnergyDistributionTreble(f[0]);document.getElementById('metaEnergyTreble_primary').textContent=`Treble: ${treble}%`;console.log(`Energy Distribution (Treble): ${treble}%`);});}
     /* Dynamic Range */ function processDynamicRange(){const i=document.getElementById('fileInputDynamicRange');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const range=analyzeDynamicRange(f[0]);document.getElementById('metaDynamicRange_primary').textContent=`Range: ${range} dB`;console.log(`Dynamic Range: ${range} dB`);});}
/* Crest Factor */ function processCrestFactor(){const i=document.getElementById('fileInputCrestFactor');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const crest=analyzeCrestFactor(f[0]);document.getElementById('metaCrestFactor_primary').textContent=`Crest Factor: ${crest}`;console.log(`Crest Factor: ${crest}`);});}
/* Energy Env Var */ function processEnergyEnvelopeVariance(){const i=document.getElementById('fileInputEnergyEnvVariance');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const variance=analyzeEnergyEnvelopeVariance(f[0]);document.getElementById('metaEnergyEnvVariance_primary').textContent=`Variance: ${variance}`;console.log(`Energy Envelope Variance: ${variance}`);});}
/* Normalized Energy */ function processNormalizedEnergy(){const i=document.getElementById('fileInputNormalizedEnergy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const normalized=analyzeNormalizedEnergy(f[0]);document.getElementById('metaNormalizedEnergy_primary').textContent=`Normalized: ${normalized}`;console.log(`Normalized Energy: ${normalized}`);});}
/* Transient Energy */ function processTransientEnergy(){const i=document.getElementById('fileInputTransientEnergy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const transient=analyzeTransientEnergy(f[0]);document.getElementById('metaTransientEnergy_primary').textContent=`Transient: ${transient}%`;console.log(`Transient Energy: ${transient}%`);});}
/* Sustain Energy */ function processSustainEnergy(){const i=document.getElementById('fileInputSustainEnergy');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const sustain=analyzeSustainEnergy(f[0]);document.getElementById('metaSustainEnergy_primary').textContent=`Sustain: ${sustain}%`;console.log(`Sustain Energy: ${sustain}%`);});}
/* Peak-to-Avg Ratio */ function processPeakToAverageRatio(){const i=document.getElementById('fileInputPAR');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const ratio=analyzePeakToAverageRatio(f[0]);document.getElementById('metaPAR_primary').textContent=`PAR: ${ratio} dB`;console.log(`Peak-to-Average Ratio: ${ratio} dB`);});}
/* Copyright */ function processCopyright(){const i=document.getElementById('fileInputCopyright');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const copyright=analyzeCopyright(f[0]);document.getElementById('metaCopyright_primary').textContent=`Copyright: ${copyright}`;console.log(`Copyright Processed: ${copyright}`);});}
/* Publisher */ function processPublisher(){const i=document.getElementById('fileInputPublisher');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const publisher=analyzePublisher(f[0]);document.getElementById('metaPublisher_primary').textContent=`Publisher: ${publisher}`;console.log(`Publisher Processed: ${publisher}`);});}
/* ISRC */ function processISRC(){const i=document.getElementById('fileInputISRC');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const isrc=analyzeISRC(f[0]);document.getElementById('metaISRC_primary').textContent=`ISRC: ${isrc}`;console.log(`ISRC Processed: ${isrc}`);});}
/* UPC */ function processUPC(){const i=document.getElementById('fileInputUPC');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const upc=analyzeUPC(f[0]);document.getElementById('metaUPC_primary').textContent=`UPC: ${upc}`;console.log(`UPC Processed: ${upc}`);});}
/* Geolocation */ function processGeolocation(){const i=document.getElementById('fileInputGeolocation');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const geo=analyzeGeolocation(f[0]);document.getElementById('metaGeolocation_primary').textContent=`Geo: ${geo}`;console.log(`Geolocation Processed: ${geo}`);});}
/* Region Recording */ function processRegionOfRecording(){const i=document.getElementById('fileInputRegionRecording');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const region=analyzeRegionOfRecording(f[0]);document.getElementById('metaRegionRecording_primary').textContent=`Region: ${region}`;console.log(`Region of Recording Processed: ${region}`);});}
/* Creation Date */ function processCreationDate(){const i=document.getElementById('fileInputCreationDate');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const date=analyzeCreationDate(f[0]);document.getElementById('metaCreationDate_primary').textContent=`Date: ${date}`;console.log(`Creation Date Processed: ${date}`);});}
/* Modification Date */ function processModificationDate(){const i=document.getElementById('fileInputModificationDate');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const date=analyzeModificationDate(f[0]);document.getElementById('metaModificationDate_primary').textContent=`Date: ${date}`;console.log(`Modification Date Processed: ${date}`);});}
/* License Type */ function processLicenseType(){const i=document.getElementById('fileInputLicenseType');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const license=analyzeLicenseType(f[0]);document.getElementById('metaLicenseType_primary').textContent=`License: ${license}`;console.log(`License Type Processed: ${license}`);});}
/* Creative Commons */ function processCreativeCommons(){const i=document.getElementById('fileInputCreativeCommons');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const cc=analyzeCreativeCommons(f[0]);document.getElementById('metaCreativeCommons_primary').textContent=`CC: ${cc}`;console.log(`Creative Commons Info Processed: ${cc}`);});}
/* Album Art URL */ function processAlbumArtURL(){const i=document.getElementById('fileInputAlbumArtURL');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const url=analyzeAlbumArtURL(f[0]);document.getElementById('metaAlbumArtURL_primary').textContent=`URL: ${url}`;console.log(`Album Art URL Processed: ${url}`);});}
/* Language */ function processLanguage(){const i=document.getElementById('fileInputLanguage');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const language=analyzeLanguage(f[0]);document.getElementById('metaLanguage_primary').textContent=`Language: ${language}`;console.log(`Language Processed: ${language}`);});}
/* Source URL */ function processOriginalSourceURL(){const i=document.getElementById('fileInputSourceURL');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const url=analyzeOriginalSourceURL(f[0]);document.getElementById('metaSourceURL_primary').textContent=`URL: ${url}`;console.log(`Original Source URL Processed: ${url}`);});}
     /* Genre Subcategory */ function processGenreSubcategory(){const i=document.getElementById('fileInputGenreSubcategory');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const genre=analyzeGenreSubcategory(f[0]);document.getElementById('metaGenreSubcategory_primary').textContent=`Genre: ${genre}`;console.log(`Genre Subcategory Processed: ${genre}`);});}
/* Explicit Content */ function processExplicitContent(){const i=document.getElementById('fileInputExplicitContent');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const explicit=analyzeExplicitContent(f[0]);document.getElementById('metaExplicitContent_primary').textContent=`Explicit: ${explicit}`;console.log(`Explicit Content Processed: ${explicit}`);});}
/* Keywords */ function processKeywords(){const i=document.getElementById('fileInputKeywords');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const keywords=analyzeKeywords(f[0]);document.getElementById('metaKeywords_primary').textContent=`Keywords: ${keywords}`;console.log(`Keywords Processed: ${keywords}`);});}
/* Geotag */ function processGeotag(){const i=document.getElementById('fileInputGeotag');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const geotag=analyzeGeotag(f[0]);document.getElementById('metaGeotag_primary').textContent=`Geotag: ${geotag}`;console.log(`Geotag Processed: ${geotag}`);});}
/* Recording Env */ function processRecordingEnvironment(){const i=document.getElementById('fileInputRecordingEnvironment');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const environment=analyzeRecordingEnvironment(f[0]);document.getElementById('metaRecordingEnvironment_primary').textContent=`Environment: ${environment}`;console.log(`Recording Environment Processed: ${environment}`);});}
/* Audio Watermark */ function processAudioWatermark(){const i=document.getElementById('fileInputAudioWatermark');i.addEventListener('change',e=>{const f=e.target.files;if(f.length===0){console.log("No file selected.");return;}const watermark=analyzeAudioWatermark(f[0]);document.getElementById('metaAudioWatermark_primary').textContent=`Watermark: ${watermark}`;console.log(`Audio Watermark Processed: ${watermark}`);});}
let dragDropContainer=document.getElementById('dragDropContainer');dragDropContainer.addEventListener('drop',function(event){event.preventDefault();const files=event.dataTransfer.files;if(files.length>0){analyzeFile(files[0]);}});dragDropContainer.addEventListener('dragover',function(event){event.preventDefault();});
// const fileInput=document.getElementById('fileInput');fileInput.addEventListener('change',function(event){const files=event.target.files;if(files.length>0){analyzeFile(files[0]);}});
// function analyzeFile(file){const audioContext=new(window.AudioContext||window.webkitAudioContext)();const reader=new FileReader();reader.onload=function(){audioContext.decodeAudioData(reader.result,function(buffer){const channelData=buffer.getChannelData(0);const rms=calculateRMS(channelData);const peakAmplitude=calculatePeakAmplitude(channelData);const zeroCrossingRate=calculateZeroCrossingRate(channelData);displayMetric("RMS",rms);displayMetric("PeakAmplitude",peakAmplitude);displayMetric("ZeroCrossingRate",zeroCrossingRate);});};reader.readAsArrayBuffer(file);}
function calculateRMS(samples){const squaredSum=samples.reduce((sum,sample)=>sum+sample*sample,0);return Math.sqrt(squaredSum/samples.length).toFixed(2);}
function calculatePeakAmplitude(samples){return Math.max(...samples).toFixed(2);}
function calculateZeroCrossingRate(signal){let zeroCrossings=0;for(let i=1;i<signal.length;i++){if(signal[i-1]*signal[i]<0){zeroCrossings++;}}return((zeroCrossings/signal.length)*100).toFixed(2);}
function displayMetric(metricName,value){const element=document.getElementById(metricName);if(element){element.innerText=`${metricName}: ${value}`;}}

 
</script>    
 <script>
// Create the AudioContext
if (!window.audioContext) {
    window.audioContext = new (window.AudioContext || window.webkitAudioContext)();
}

// Attach it to a user gesture
document.addEventListener('click', () => {
    if (window.audioContext && window.audioContext.state === 'suspended') {
        window.audioContext.resume().then(() => console.log('AudioContext resumed.'));
    }
});


/* Initialize audio ctx */
const audioPlayer = document.getElementById("audioPlayer");
/* Get canvas element */
const canvas = document.getElementById("spectrogramCanvas");
/* Get 2D context */
const canvasCtx = canvas.getContext("2d");

/* Ensure AudioContext is declared only once */
if (!window.audioContext) {
    window.audioContext = new (window.AudioContext || window.webkitAudioContext)();
}

/* Check if AudioContext is suspended and resume it */
document.addEventListener('click', () => {
    if (window.audioContext.state === 'suspended') {
        window.audioContext.resume().then(() => console.log('AudioContext resumed.'));
    }
});

/* Initialize analyser */
const analyser = window.audioContext.createAnalyser();
/* Create gain node */
const gainNode = window.audioContext.createGain();
/* Create media source node */
let sourceNode = window.audioContext.createMediaElementSource(audioPlayer);

/* Connect audio nodes */
sourceNode.connect(analyser);
sourceNode.connect(gainNode);
gainNode.connect(window.audioContext.destination);

/* Set analyser parameters */
analyser.fftSize = 2048;
/* Get frequency bin count */
const bufferLength = analyser.frequencyBinCount;
/* Initialize data array */
const dataArray = new Uint8Array(bufferLength);

/* Function to draw spectrogram */
function drawSpectrogram() {
    /* Request animation frame */
    requestAnimationFrame(drawSpectrogram);
    /* Get frequency data */
    analyser.getByteFrequencyData(dataArray);
    /* Clear the canvas */
    canvasCtx.fillStyle = "rgb(255, 255, 255)";
    canvasCtx.fillRect(0, 0, canvas.width, canvas.height);

    /* Draw zero-axis line */
    const zeroLineY = canvas.height / 2 + 10;
    canvasCtx.beginPath();
    canvasCtx.setLineDash([5, 5]);
    canvasCtx.strokeStyle = "#1E2337";
    canvasCtx.lineWidth = 1;
    canvasCtx.moveTo(0, zeroLineY);
    canvasCtx.lineTo(canvas.width, zeroLineY);
    canvasCtx.stroke();
    canvasCtx.setLineDash([]);

    /* Draw spectrogram bars */
    const barWidth = (canvas.width / bufferLength) * 2.5;
    let x = 0;
    for (let i = 0; i < bufferLength; i++) {
        const barHeight = dataArray[i];
        canvasCtx.fillStyle = `rgb(30, 35, 55)`;
        canvasCtx.fillRect(x, canvas.height - barHeight / 2, barWidth, barHeight / 2);
        x += barWidth + 1;
    }
}

/* Start drawing the spectrogram */
drawSpectrogram();

/* Event listeners for audio player */
audioPlayer.addEventListener("play", () => {
    if (window.audioContext.state === "suspended") {
        window.audioContext.resume().catch((err) =>
            console.error("Audio context resume failed:", err)
        );
    }
    drawSpectrogram();
});

audioPlayer.addEventListener("pause", () => {
    canvasCtx.clearRect(0, 0, canvas.width, canvas.height);
});

/* Handle file input for loading audio */
document.getElementById("fileInput").addEventListener("change", (event) => {
    const file = event.target.files[0];
    if (file && file.type.startsWith("audio/")) {
        const objectURL = URL.createObjectURL(file);
        audioPlayer.src = objectURL;
        audioPlayer.load();
        audioPlayer.play();
    } else {
        alert("Please select a valid audio file.");
    }
});

/* Resize canvas dynamically */
window.addEventListener("resize", () => {
    canvas.width = canvas.parentElement.offsetWidth;
    canvas.height = 300;
    canvasCtx.clearRect(0, 0, canvas.width, canvas.height);
});

/* Calculate Spectral Centroid */
function calculateSpectralCentroid(frequencies, magnitudes) {
    let weightedSum = 0;
    let totalMagnitude = 0;
    for (let i = 0; i < frequencies.length; i++) {
        weightedSum += frequencies[i] * magnitudes[i];
        totalMagnitude += magnitudes[i];
    }
    return totalMagnitude === 0 ? 0 : (weightedSum / totalMagnitude).toFixed(2);
}

/* Calculate RMS */
function calculateRMS(samples) {
    const squaredSum = samples.reduce((sum, sample) => sum + sample * sample, 0);
    return Math.sqrt(squaredSum / samples.length).toFixed(2);
}

/* Calculate Zero-Crossing Rate */
function calculateZeroCrossingRate(signal) {
    let zeroCrossings = 0;
    for (let i = 1; i < signal.length; i++) {
        if (signal[i - 1] * signal[i] < 0) {
            zeroCrossings++;
        }
    }
    return ((zeroCrossings / signal.length) * 100).toFixed(2);
}

/* Detect Clipping */
function detectClipping(channelData) {
    const clippingThreshold = 1.0;
    const clippingRegions = [];
    for (let i = 0; i < channelData.length; i++) {
        if (Math.abs(channelData[i]) >= clippingThreshold) {
            clippingRegions.push(i);
        }
    }
    return clippingRegions;
}

/* Display Calculated Metrics */
function displayMetrics(analyser, dataArray, audioContext) {
    analyser.getByteFrequencyData(dataArray);
    const frequencies = Array.from({ length: dataArray.length }, (_, i) => i * (audioContext.sampleRate / analyser.fftSize));
    const spectralCentroid = calculateSpectralCentroid(frequencies, dataArray);
    const rms = calculateRMS(dataArray);
    const peakAmplitude = calculatePeakAmplitude(dataArray);
    const zeroCrossingRate = calculateZeroCrossingRate(dataArray);
    console.log("Spectral Centroid:", spectralCentroid);
    console.log("RMS:", rms);
    console.log("Peak Amplitude:", peakAmplitude);
    console.log("Zero-Crossing Rate:", zeroCrossingRate);
}

/* Periodically update metrics */
function startMetricUpdates(analyser, dataArray, audioContext, audioPlayer) {
    setInterval(() => {
        if (!audioPlayer.paused) {
            displayMetrics(analyser, dataArray, audioContext);
        }
    }, 1000);
}

/* Init WaveSurfer DOM */
let waveSurfer;
document.addEventListener('DOMContentLoaded', () => {
    const container = document.querySelector('#waveform');
    if (!container) {
        console.error('WaveSurfer container not found!');
        return;
    }
    waveSurfer = WaveSurfer.create({
        container: '#waveform',
        waveColor: 'gold',
        progressColor: '#1e2337'
    });

    document.getElementById('fileInput').addEventListener('change', e => {
        const file = e.target.files[0];
        if (file && file.type.startsWith('audio/')) {
            const fileURL = URL.createObjectURL(file);
            waveSurfer.load(fileURL);
            waveSurfer.on('ready', () => {
                console.log('Waveform rendering complete!');
            });
            waveSurfer.on('error', err => {
                console.error('WaveSurfer error:', err);
            });
        } else {
            alert('Invalid audio file.');
        }
    });
});
</script>
</body>


</html>

<!-- <span class="github-btn"><a class="gh-btn" href="#" rel="noopener noreferrer" target="_blank"><span class="gh-ico" aria-hidden="true"></span><span class="gh-text"></span></a><a class="gh-count" href="#" rel="noopener noreferrer" target="_blank" aria-hidden="true"></a></span> -->